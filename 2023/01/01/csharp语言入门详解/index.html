

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="坐等第二季更新">
  <meta name="author" content="Kit Cheung">
  <meta name="keywords" content="">
  <meta name="description" content="坐等第二季更新">
<meta property="og:type" content="article">
<meta property="og:title" content="csharp语言入门详解">
<meta property="og:url" content="https://example.com/2023/01/01/csharp%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/index.html">
<meta property="og:site_name" content="菜猫的博客">
<meta property="og:description" content="坐等第二季更新">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1535865673631-571ed23c-0d3c-4ee5-8713-a4c46be7b819.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1535866121209-b7e4bfb8-42f7-466c-b6e0-a0358507960b.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1535866137173-31912e13-481d-4f43-b365-62d924cf99ac.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1535866307870-213129e4-e6ca-4d8c-b930-98ceacc78491.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1535868352953-091a8964-90f2-41d6-9c1d-8c4faa2a47d7.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1535869073713-1be7ffdd-0603-446e-8a49-942e1f73f6ff.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541852953646-fa634475-2639-44bd-a96e-54b3b1885474.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984087987-d0e059ff-58da-4254-80fa-612fa2218eff.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984317136-5992903d-7963-4e11-ab91-f012eff41793.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984324728-5206b0b6-515e-4faf-89ca-a6d885f46f0a.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984331730-6aefbd91-7a05-49af-ad1b-fcd3bd1fdbc5.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984410453-1a2ca9f0-b13f-4186-94d8-928e4f7c892e.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984462001-1a03ec45-e9d2-4185-8282-f10f80083593.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984477290-c04a8f4b-d18b-4d05-b89f-8a226f85d20a.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984574217-6966fe44-41ba-4f5b-b970-0b308968daff.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984647225-de93cc58-a356-4b21-a107-f8b62bb5c8cc.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984661077-f704e705-1d17-409d-b681-06e68db33c44.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984889223-5d18dcfc-2f55-48dd-9316-e5395d7e43a9.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984965427-b873c5fb-c850-410d-9f65-0fe6d5988a05.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230102182828848.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105110240183.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105105158445.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105104843480.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/56$EWHSX8I865W%5DX_%60M_WLB-16728892584911.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105122120065.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105122909272.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105123054557.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105154906871.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541985581074-690ec7d4-16cd-49e8-8258-e59933df4dbe.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541985601710-3f9d8588-1ea1-4e55-85bb-74f617a8301e.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105150830173.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541985970064-d1310139-8fd2-46f0-8af2-fc8629b6a380.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105233041323.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105233330509.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541986096863-7cae610e-16ca-46e8-b476-c3cb8619c1e8.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541986150537-4e0c65e4-a03f-4cc0-9e15-1309de326e26.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541986189842-7663ab16-ce0e-4ae5-ab6e-8be97a8f6fc4.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541986618636-e9c95514-98d5-4753-9f4c-1d162922512a.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541986701901-1e4e829a-ebbe-4c23-a2f0-e5a50990202c.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541986824325-76573118-2b51-4794-8bfe-b87104797622.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987290852-ea83d0f6-88b4-4a54-bf20-0ebb6b17e833.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987315175-0ce56b86-9fb4-4d00-b774-ae675c4899d9.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987354814-b71c16a4-0fb4-4c97-878e-11e20784d8ac.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987450419-6d1fa8c2-bb6e-4e7f-9066-a070ca5a0082.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987485561-2410a6e1-6846-42c2-b2c9-6d2dbe37e021.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987653195-9a117900-edc5-417a-ab48-7ba9c9c5dd67.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987677709-358deb75-f26f-4e8a-98c0-0580fa42e90d.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987702022-1741f0d8-b046-4a3b-af2e-cebbf3d2c35e.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987721138-feaffca0-245c-4830-b3b2-48ba2e634caa.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987736936-7e6e1a8b-10a4-4ba6-a385-899151c3a74d.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987770948-e840b040-b0b0-488e-b2f0-0e21d0b39e2b.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987789176-8187c50e-1c7a-4379-a8ec-12cce9640755.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987813561-a61051e4-fd47-413e-953c-147facf99fd2.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987829030-f2268c70-ee21-455e-b4f7-c66be4cf4f04.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987849079-d50336cf-76b7-4886-8311-894ca3cd4f09.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987893922-788e04a2-e529-4d0c-97e4-736beb0b8260.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542070693640-b030aa8e-ca29-4f0a-9239-6b5db32c99b6.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542070850082-08fb9a53-a161-47f5-a4de-d91117fc4b3a.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542071413076-c6f4f278-afd4-4794-a569-8466f63ed907.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542071954748-380ed79a-47b5-4bc1-887c-0a89ef65cbad.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230108184746485.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542072443274-8013b43f-37d6-44d4-a7c1-1f41b49974ab.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542073358985-e039dd41-8383-4411-b6da-63d063ed7a2f.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542073732324-a0dd50ff-5333-40a0-9546-afbac3fd5fa2.png">
<meta property="og:image" content="c:/Users/admin/Desktop/c%23%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542073755115-b0e27224-7122-4e28-ad9d-aa27a16db4e1.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542073932915-a3e3183e-daa5-4809-b257-023b0fd3c361.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542073988044-18fa172d-67df-46fb-8491-e456765874d3.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074021692-ef5bb4f3-e20e-4b18-9e01-70e5dcea3172.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074059409-01f01ee0-6f35-4d2d-b21f-25ab2fe32c58.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074067087-647f7028-e3e3-445e-9e5c-f11430bc75b3.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074076921-0e06c592-7b5a-4fd1-86d7-5a8cfe7c75f4.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074120324-48379e29-07e6-4536-bd9c-c8577acdc817.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074134249-4681c4a7-8547-47b0-8e9d-5379d949ee7d.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074150290-521061c4-7044-4161-b92a-f42bab624cc8.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074164208-52cda7f8-6338-4d61-9f9c-cddac7804365.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/542074179651-69139f4e-f492-470f-9696-5230f328af67.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074243241-65381f40-73ac-45b7-a440-40b1f3389d65.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074260905-c376dc03-371a-4b63-8f60-cba24c241216.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074277842-86f5a520-ec7b-4133-80bd-2ad265fad70e.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074289947-dc31dac6-ef8a-42e7-82b8-53987e58c90e.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074306519-dc5660bf-7505-4930-9848-d65db93f0f0a.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074330698-8977a412-9560-42c3-beb8-fd85474a2d3b.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074444248-661f1226-4b07-41fc-bc1f-687213555ac7.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074500227-098e5cdc-eaad-4d10-98fa-d0e4b97b3916.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074514803-0cf8bca8-eafb-498f-bfbb-a226cc3a7006.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074542530-663130ab-a7d4-416f-9b84-7ed9fafdfc51.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1624929037735-72b62b95-5ae7-4aa7-944b-bc77c03db7d6.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074715550-e282f1f0-fc25-4729-9d7b-9a9772270934.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074740882-67d4ef6b-0ae7-4c45-ba98-893e7894eb37.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074761770-1220bca6-cc26-45c3-9ebd-628761c66f7e.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074801508-044519fd-820e-4a8f-9046-465136b79a44.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074806841-1caa32b0-13e2-461b-9b23-37813054caef.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074812857-6546cbdd-72b9-4f40-b688-631fa3d44657.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076088624-dc61e2e2-d241-4a72-97bb-56d5e327fc9b-167317064199614.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076110330-faf66f77-a654-4257-8031-19b362c7e625-167317064199715.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076210282-724e6896-32f5-4fd0-ba17-0bcfbabbe3ec-167317064199816.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076363452-b2e701a5-8a9e-4806-ae8c-f14b7d777a70-167317064199817.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076370267-3a566ba7-db17-4790-8b1e-96e18d931d82-167317064199818.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076384769-34b76bf5-1da3-4c06-84d5-1c0b7d60732c-167317064200524.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076410568-1447a7ab-ced9-40a5-a193-5e94bc6ed59f-167317064200528.png">
<meta property="og:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076557984-9597ce9e-a158-40a6-9068-5433fcdccf5e-167317064200526.png">
<meta property="article:published_time" content="2023-01-01T02:01:48.000Z">
<meta property="article:modified_time" content="2023-01-09T09:06:00.000Z">
<meta property="article:author" content="Kit Cheung">
<meta property="article:tag" content="csharp">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://example.com/2023/01/themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1535865673631-571ed23c-0d3c-4ee5-8713-a4c46be7b819.png">
  
  <title>csharp语言入门详解 - 菜猫的博客</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.11","typing":{"enable":true,"typeSpeed":70,"cursorChar":" ","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>KitCheung</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="csharp语言入门详解">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2023-01-01 10:01" pubdate>
        2023年1月1日 上午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      51k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      159 分钟
    </span>
  

  
  
    
      <!-- 不蒜子统计文章PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">csharp语言入门详解</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：5 小时前
                
              </p>
            
            <div class="markdown-body">
              <h1>C# 语言入门详解</h1>
<p>笔记参考：<a target="_blank" rel="noopener" href="https://www.yuque.com/yuejiangliu/dotnet/timothy-csharp">月江流</a></p>
<p>《C# 语言入门详解》是刘铁锰老师录制的高质量中文 C# 视频教程。</p>
<p>视频链接：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/av1422127/">B站</a>、<a target="_blank" rel="noopener" href="https://www.youtube.com/playlist?list=PLZX6sKChTg8GQxnABqxYGX2zLs4Hfa4Ca">Youtube</a></p>
<p>微软官方的 C# 互动教程：<a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/learn/paths/csharp-first-steps/">Learn 使用 C# 迈出第一步</a>。</p>
<p>??? 第二季</p>
<p>刘铁猛老师的 B站号 <a target="_blank" rel="noopener" href="https://space.bilibili.com/7499477">TimothyLiu</a> + <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Kr4y1y7qD">C#语言入门详解 Season 2</a></p>
<h1>001 课程简介，C# 语言简介，开发环境准备</h1>
<h2 id="C-语言简介">C# 语言简介</h2>
<p>编程的学习路径</p>
<ul>
<li>
<p>纵向：语言 -&gt; 类库 -&gt; 框架</p>
</li>
<li>
<p>横向：命令行程序，桌面程序，设备（平板/手机）程序，Web（网站/服务），游戏……</p>
</li>
</ul>
<p>类库可以理解为轮子，框架是有一定逻辑组织的类库集。 框架就是在开发时的最佳方案（Best practice），把类库已经组合好了。</p>
<p>.NET 公认的几大主流优秀框架：<a target="_blank" rel="noopener" href="https://github.com/abpframework/abp/">ABP</a>、<a target="_blank" rel="noopener" href="https://github.com/dotnetcore/CAP">CAP</a>、<a target="_blank" rel="noopener" href="https://github.com/elsa-workflows/elsa-core">ELSA</a>、<a target="_blank" rel="noopener" href="https://github.com/IdentityServer/IdentityServer4">IdentityServer4</a></p>
<h2 id="开发环境">开发环境</h2>
<p>Visual Studio（可见工作室） 所见即所得。</p>
<h2 id="学习资料"><strong>学习资料</strong></h2>
<ul>
<li>
<p>下载离线 MSDN 文档：<a target="_blank" rel="noopener" href="http://tieba.baidu.com/p/5016098196">VS2017 帮助文档安装</a></p>
</li>
<li>
<p>MSDN 在线文档：<a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/dotnet/csharp/index">新版 Microsoft Docs</a>、<a target="_blank" rel="noopener" href="https://msdn.microsoft.com/zh-cn/retiredcontent">老版 MSDN</a></p>
</li>
<li>
<p>C# 语言定义文档（Language Specification）</p>
</li>
<li>
<p>推荐书籍：《C# X.0 in a Nutshell》</p>
</li>
</ul>
<div class="note note-success">
            <ol><li><p>刘老师出视频时推荐的是《C# 5.0 in a Nutshell》，截至 20.09.18 已更新到《C# 8.0 in a Nutshell》，优先推荐看新版，英文一般的同学看老版也可以</p></li><li><p>学习书中 LINQ 部分时配合 LINQPad 软件中的 Examples 食用更佳</p></li></ol>
          </div>
<p>MSDN 文档的重点是：<a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/">C# Programming Guide</a>、<a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/">C# Reference</a>。</p>
<h2 id="复习笔记">复习笔记</h2>
<p>本课程主要是将大家领进门，高中水平就可以学。</p>
<p>计算机如何从底层 0 1 到现代软件工程的，推荐去看有趣的 Crash Course 的<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/av21376839/">计算机科学速成课</a>。</p>
<p>C# 程序员找类库的最好方法是根据关键字去 <a target="_blank" rel="noopener" href="https://www.nuget.org/">NuGet</a> 搜索。</p>
<p>现在也可以用 Visual Studio Code 作为 .NET Core 程序的集成开发环境。</p>
<p>ReSharper 是 VS 最强的插件，它最强大的功能是识别你的代码并给出更完善、更现代化写法的建议，可惜它也有一大劣势，太占内存了。</p>
<div class="note note-success">
            <p>这些建议有助于入门者快速掌握新语法，编写结构更合理的代码。</p>
          </div>
<p>MSDN 文档内容过多，很容易迷失于其中，此时可以用《C# X.0 in a NutShell》作纲领，明确那些知识是重点，和学习知识点的先后顺序。</p>
<h1>002 初识各类应用程序</h1>
<h2 id="编程学习的捷径">编程学习的捷径</h2>
<p>学习原则</p>
<ul>
<li>
<p>从感官到原理</p>
</li>
<li>
<p>从使用别人的到创建自己的</p>
</li>
<li>
<p>必需亲自动手</p>
</li>
<li>
<p>必需学以致用、紧跟实际工作</p>
</li>
<li>
<p>追求实用，不搞“学院派”</p>
</li>
</ul>
<h2 id="见识-C-编写的各类应用程序">见识 C# 编写的各类应用程序</h2>
<p>带 * 号的是推荐使用。</p>
<ul>
<li>
<p>Console</p>
</li>
<li>
<p>WPF(Windows Presentation Foundation)*</p>
</li>
<li>
<p>Windows Forms(Old)</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="http://ASP.NET">ASP.NET</a> Web Forms(Old)</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="http://ASP.NET">ASP.NET</a> MVC(Model-View-Controller)*</p>
<ul>
<li>
<p>分离不同种类的代码</p>
</li>
<li>
<p>结构清晰，易于维护</p>
</li>
</ul>
</li>
<li>
<p>WCF(Windows Communication Foundation)*</p>
</li>
<li>
<p>Windows Store Application*</p>
</li>
<li>
<p>Windows Phone Application*</p>
</li>
<li>
<p>Cloud(Windows Azure)*</p>
</li>
<li>
<p>WF(Workflow Foundation)</p>
</li>
</ul>
<p>PS：2020 年了，推荐使用还得加上 <a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/aspnet/core">ASP.NET Core</a> 和 <a target="_blank" rel="noopener" href="https://devblogs.microsoft.com/dotnet/introducing-net-5/">.NET 5 </a>。</p>
<p>PPS：2021 年了，大家打好基础后直接上 <a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/dotnet/core/whats-new/dotnet-6">.NET 6</a> 吧 ?。</p>
<p>PPPS：2023年了，</p>
<h1>002.001 C# 也能开发 Android 应用</h1>
<h2 id="准备工作">准备工作</h2>
<p>打开 Visual Studio Installer 安装移动开发套件 Mobile development with .NET。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1535865673631-571ed23c-0d3c-4ee5-8713-a4c46be7b819.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<div class="note note-success">
            <p>以前 VS 带的安卓模拟器和 Hyper-V 有冲突，从 VS 15.7 版本开始冲突解决了。</p>
          </div>
<p>安装好套件后打开 VS 的 Tools - Android SDK Manager 确认 SDK Platform 和 27.2.9 版本的 Emulator 安装成功。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1535866121209-b7e4bfb8-42f7-466c-b6e0-a0358507960b.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1535866137173-31912e13-481d-4f43-b365-62d924cf99ac.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>PS：如果有 update，更新即可。</p>
<h2 id="体验-Android-模拟器">体验 Android 模拟器</h2>
<p>Android SDK 更新完毕后，可以在 Tools - Android SDK Manager - Android Device Manager 直接体验 Android 模拟器（一瞥 8.1）。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1535866307870-213129e4-e6ca-4d8c-b930-98ceacc78491.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h2 id="开发一个简单的加法-App">开发一个简单的加法 App</h2>
<p>开发安卓应用可以通过创建移动端跨平台项目，也可以通过创建单纯的安卓项目。考虑到 IOS 和 UWP 项目较难调试和发布我就只创建了 Android XAML App(<strong>Xamarin.Forms</strong>) 项目。</p>
<p>下面开发一个简单的加法应用。</p>
<p>前端 XAML：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span> ?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ContentPage</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://xamarin.com/schemas/2014/forms&quot;</span></span><br><span class="hljs-tag">             <span class="hljs-attr">xmlns:x</span>=<span class="hljs-string">&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot;</span></span><br><span class="hljs-tag">             <span class="hljs-attr">xmlns:local</span>=<span class="hljs-string">&quot;clr-namespace:HelloAndroid.Client&quot;</span></span><br><span class="hljs-tag">             <span class="hljs-attr">x:Class</span>=<span class="hljs-string">&quot;HelloAndroid.Client.MainPage&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">Grid</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">Grid.RowDefinitions</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">&quot;Auto&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">&quot;Auto&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">&quot;Auto&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">&quot;Auto&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">Grid.RowDefinitions</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">Editor</span> <span class="hljs-attr">x:Name</span>=<span class="hljs-string">&quot;Txt1&quot;</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">&quot;0&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">Editor</span> <span class="hljs-attr">x:Name</span>=<span class="hljs-string">&quot;Txt2&quot;</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">&quot;1&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">Editor</span> <span class="hljs-attr">x:Name</span>=<span class="hljs-string">&quot;Txt3&quot;</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">&quot;2&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">Grid</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">&quot;3&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">Grid.ColumnDefinitions</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">ColumnDefinition</span> <span class="hljs-attr">Width</span>=<span class="hljs-string">&quot;*&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">ColumnDefinition</span> <span class="hljs-attr">Width</span>=<span class="hljs-string">&quot;*&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">ColumnDefinition</span> <span class="hljs-attr">Width</span>=<span class="hljs-string">&quot;*&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">ColumnDefinition</span> <span class="hljs-attr">Width</span>=<span class="hljs-string">&quot;*&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">Grid.ColumnDefinitions</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">x:Name</span>=<span class="hljs-string">&quot;BtnAdd&quot;</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">&quot;Add&quot;</span> <span class="hljs-attr">Clicked</span>=<span class="hljs-string">&quot;DoAdd&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">x:Name</span>=<span class="hljs-string">&quot;BtnSub&quot;</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">&quot;Sub&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">x:Name</span>=<span class="hljs-string">&quot;BtnMul&quot;</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">&quot;Mul&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">x:Name</span>=<span class="hljs-string">&quot;BtnDiv&quot;</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">&quot;3&quot;</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">&quot;Div&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">Grid</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">Grid</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ContentPage</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p>后端 C#：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System;<br><span class="hljs-keyword">using</span> Xamarin.Forms;<br><br><span class="hljs-keyword">namespace</span> <span class="hljs-title">HelloAndroid.Client</span><br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MainPage</span> : <span class="hljs-title">ContentPage</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MainPage</span>()</span><br>        &#123;<br>            InitializeComponent();<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DoAdd</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, EventArgs e</span>)</span><br>        &#123;<br>            <span class="hljs-built_in">double</span>.TryParse(Txt1.Text, <span class="hljs-keyword">out</span> <span class="hljs-built_in">double</span> x);<br>            <span class="hljs-built_in">double</span>.TryParse(Txt2.Text, <span class="hljs-keyword">out</span> <span class="hljs-built_in">double</span> y);<br>            Txt3.Text = (x + y).ToString();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>注：最好先 Build 项目，再进行调试。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1535868352953-091a8964-90f2-41d6-9c1d-8c4faa2a47d7.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h2 id="打包成-APK">打包成 APK</h2>
<p>参考 <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/47554324/how-to-make-apk-of-xamarin-application-to-run-on-android-device">SOF</a> 和 <a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/xamarin/android/deploy-test/release-prep/?tabs=vswin">MSDN</a>。</p>
<ol>
<li>In your toolbar change the project from debug mode to release mode</li>
<li>Right-click on your Project and Select Archive（存档）…</li>
<li>Click on the generated archive and below on the Right side you will find two options Open folder and Distribute. (Select Distribute)</li>
<li>Then on the Pop-up that appears Select AD-HOC</li>
<li>Click on the Green plus icon to add signing identity where you need to provide the identity of the signing person or company</li>
<li>After creating the signing identity click on that identity to select it and then click on save as to save your APK.</li>
<li>A pop-up will appear asking password for the signing identity which you will produce in step 5.</li>
</ol>
<p>打包成 APK，安装到手机上的效果：</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1535869073713-1be7ffdd-0603-446e-8a49-942e1f73f6ff.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h2 id="其它问题">其它问题</h2>
<h3 id="Android-设计器不工作">Android 设计器不工作</h3>
<p>再 XAML 切换到设计器时提示：<code>System.ComponentModel.Composition.ImportCardinalityMismatchException: No exports were found that match the constraint:  ...</code></p>
<p>解决方法：</p>
<ol>
<li>
<p>保证 SDK 都更新到了最新版</p>
</li>
<li>
<p>清除<code>C:\Users\UserName\AppData\Local\Microsoft\VisualStudio\15.0*\ComponentModelCache</code> 缓存的文件</p>
</li>
</ol>
<h1>003 初识类与名称空间</h1>
<h2 id="类库的引用">类库的引用</h2>
<h2 id="DLL-引用（黑盒引用，无源代码）">DLL 引用（黑盒引用，无源代码）</h2>
<p>示例： 在 Console 项目里面，引用 <code>System.Windows.Forms</code> 来实现窗体。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Windows.Forms;<br><br><span class="hljs-keyword">namespace</span> <span class="hljs-title">HelloWorld</span><br>&#123;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>        &#123;<br>            Form form = <span class="hljs-keyword">new</span> Form();<br>            form.ShowDialog();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="NuGet-简介"><a target="_blank" rel="noopener" href="https://www.nuget.org/">NuGet</a> 简介</h3>
<p>引用 DLL 时，你没有源代码，几乎可以说是“蒙着眼睛引用类库”。这是很危险的！特别是对于大型的项目。<br>
有了 NuGet 后，你只需选择要引用的包，NuGet 会自动帮你对 DLL 引用进行管理。</p>
<p>注：不要忽视 NuGet 的重要性，以后每当你需要找工具库时，第一要做的就是来 NuGet 搜索一下（第二当然就是去 GitHub 搜啦）。</p>
<h2 id="项目引用（白盒引用，有源代码）">项目引用（白盒引用，有源代码）</h2>
<p>一个项目隶属于不同的 Solution，称为 Project 重用。</p>
<p>Debug 时一定要找到 Root cause！不要找到了表象就在那打补丁，要深入到问题的底层。</p>
<h2 id="依赖关系">依赖关系</h2>
<ul>
<li>
<p>类（或对象）之间的耦合关系</p>
</li>
<li>
<p>优秀的程序追求“高内聚，低耦合”</p>
</li>
<li>
<ul>
<li>教学程序往往会违反这个原则</li>
</ul>
</li>
<li>
<p>UML（通用建模语言）类图</p>
</li>
</ul>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541852953646-fa634475-2639-44bd-a96e-54b3b1885474.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h2 id="排除错误">排除错误</h2>
<ul>
<li>仔细阅读编译器的报错</li>
<li>MSDN 文档与搜索引擎结合</li>
</ul>
<p>注：推荐使用 Bing + 英文关键字 搜索 C# 常见问题。</p>
<h1>004 类，对象，类成员简介</h1>
<h2 id="类是现实世界事物的模型">类是现实世界事物的模型</h2>
<ul>
<li>
<p>类是对现实世界事物进行抽象所得到的结果</p>
</li>
<li>
<ul>
<li>事物包括“物质”（实体）与“运动”（逻辑）</li>
</ul>
</li>
<li>
<ul>
<li>建模是一个去伪存真、由表及里的过程</li>
</ul>
</li>
</ul>
<p>唯物主义辩证法对学习面向对象编程很有好处。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984087987-d0e059ff-58da-4254-80fa-612fa2218eff.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h2 id="类与对象的关系">类与对象的关系</h2>
<ul>
<li>
<p>对象也叫实例，是类经过“实例化”后得到的内存中的实体</p>
</li>
<li>
<ul>
<li>Formally “instance” is synonymous with “object” —— <strong>对象和实例是一回事</strong></li>
</ul>
</li>
<li>
<ul>
<li>“飞机”与“一架飞机”有何区别？ 天上有（一架）飞机 —— 必需是实例飞，概念不能飞</li>
</ul>
</li>
<li>
<ul>
<li>有些类是不能实例化的，比如“数学”（Math class），我们不能说“一个数学”</li>
</ul>
</li>
<li>
<p>依照类，我们可以创建对象，这就是“实例化”</p>
</li>
<li>
<ul>
<li>现实世界中常称“对象”，程序世界中常称“实例”</li>
</ul>
</li>
<li>
<ul>
<li>二者并无太大区别，常常混用，初学者不必迷惑</li>
</ul>
</li>
<li>
<p>使用 new 操作符创建类的实例</p>
</li>
<li>
<p>引用变量与实例的关系</p>
</li>
<li>
<ul>
<li>孩子与气球</li>
</ul>
</li>
<li>
<ul>
<li>气球不一定有孩子牵着</li>
</ul>
</li>
<li>
<ul>
<li>多个孩子可以使用各自的绳子牵着同一个气球，也可以都通过一根绳子（ref）牵着同一个气球</li>
</ul>
</li>
</ul>
<h2 id="类的三大成员-属性、方法、事件">类的三大成员 属性、方法、事件</h2>
<ul>
<li>
<p>属性 Property</p>
</li>
<li>
<ul>
<li>存储数据，组合起来表示类或对象当前的状态</li>
</ul>
</li>
<li>
<p>方法 Method</p>
</li>
<li>
<ul>
<li>由 C 语言中的函数（function）进化而来，表示类或对象“能做什么”</li>
</ul>
</li>
<li>
<ul>
<li>工作中 90% 的时间是与方法打交道，因为它是“真正做事”、“构成逻辑”的成员</li>
</ul>
</li>
<li>
<p>事件 Event</p>
</li>
<li>
<ul>
<li>类或对象通知其它类或对象的机制，为 C# 所特有（Java 通过其它办法实现这个机制）</li>
</ul>
</li>
<li>
<ul>
<li>善用事件机制非常重要（切勿滥用）</li>
</ul>
</li>
<li>
<p>善用 MSDN 文档</p>
</li>
<li>
<p>某些特殊类或对象在成员方面侧重点不同</p>
</li>
<li>
<ul>
<li>模型类或对象重在属性，如 Entity Framework</li>
</ul>
</li>
<li>
<ul>
<li>工具类或对象重在方法，如 Math，Console</li>
</ul>
</li>
<li>
<ul>
<li>通知类或对象重在事件，如各种 Timer</li>
</ul>
</li>
</ul>
<h3 id="MSDN-文档阅读技巧">MSDN 文档阅读技巧</h3>
<p>注：微软已将 MSDN 的文档都迁移到了 <a target="_blank" rel="noopener" href="https://docs.microsoft.com">Microsoft Docs</a>，关于 C# 语言的都集中在 <a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/dotnet/csharp/">C# 文档</a> 部分。</p>
<div class="note note-success">
            <p><strong>Microsoft Docs</strong></p><p>最终用户、开发人员和 IT 专业人士可访问 <a target="_blank" rel="noopener" href="http://docs.microsoft.com">docs.microsoft.com</a> 获取 Microsoft 文档。 查看我们的快速入门、教程、API 参考和代码示例。</p>
          </div>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984317136-5992903d-7963-4e11-ab91-f012eff41793.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984324728-5206b0b6-515e-4faf-89ca-a6d885f46f0a.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984331730-6aefbd91-7a05-49af-ad1b-fcd3bd1fdbc5.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>当微软示例的 Examples 看不明白时，就以 类名 + Examples 为关键字在网上搜索示例即可。</p>
<h3 id="Entity-Framework">Entity Framework</h3>
<p>PropertySample</p>
<ol>
<li>
<p>用 NuGet 给项目添加 Entity Framework 引用</p>
</li>
<li>
<p>项目添加 <a target="_blank" rel="noopener" href="http://ADO.NET">ADO.NET</a> Entity Data Model <img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984410453-1a2ca9f0-b13f-4186-94d8-928e4f7c892e.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li>
<p>设置 Data Model</p>
<ol>
<li>
<p>Generate from database</p>
</li>
<li>
<p>Add new connection, selsect Microsoft SQL Server</p>
</li>
</ol>
</li>
<li>
<ol start="3">
<li>Fill in server name, local</li>
</ol>
</li>
<li>
<ol start="4">
<li>Select Adventure Works database</li>
</ol>
</li>
<li>
<ol start="5">
<li>
<p>Select table</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984462001-1a03ec45-e9d2-4185-8282-f10f80083593.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
</ol>
</li>
<li>
<p>成功后的效果</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984477290-c04a8f4b-d18b-4d05-b89f-8a226f85d20a.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li>
<p>代码</p>
</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">PropertySample</span><br>&#123;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>        &#123;<br>            AdventureWorks2014Entities proxy = <span class="hljs-keyword">new</span> AdventureWorks2014Entities();<br>            <span class="hljs-keyword">foreach</span> (Product p <span class="hljs-keyword">in</span> proxy.Products)<br>            &#123;<br>                Console.WriteLine(p.Name);<br>            &#125;<br>            Console.WriteLine(<span class="hljs-string">&quot;===============&quot;</span>);<br>            Console.WriteLine(proxy.Products.Count());<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<div class="note note-success">
            <p><strong>Code Snippet</strong></p><ol><li>foreach + Tab * 2</li><li>cw + Tab * 2 == Cosole.WriteLine();</li></ol>
          </div>
<h3 id="Event">Event</h3>
<p>Event 示例。用 DispatcherTimer 写了个时钟。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Windows.Threading;<br><br><span class="hljs-keyword">namespace</span> <span class="hljs-title">EventSample</span><br>&#123;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> MainWindow.xaml 的交互逻辑</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MainWindow</span> : <span class="hljs-title">Window</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MainWindow</span>()</span><br>        &#123;<br>            InitializeComponent();<br>            DispatcherTimer timer = <span class="hljs-keyword">new</span> DispatcherTimer();<br>            timer.Interval = TimeSpan.FromSeconds(<span class="hljs-number">1</span>);<br>            timer.Tick += Timer_Tick;<br>            timer.Start();<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Timer_Tick</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, EventArgs e</span>)</span><br>        &#123;<br>            <span class="hljs-keyword">this</span>.timeTextBox.Text = DateTime.Now.ToString();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>效果：</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984574217-6966fe44-41ba-4f5b-b970-0b308968daff.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h2 id="静态成员与实例成员">静态成员与实例成员</h2>
<ul>
<li>
<p>静态（Static）成员在语义上表示它是“类的成员”</p>
</li>
<li>
<ul>
<li>物体固有的性质，隶属于某个类</li>
</ul>
</li>
<li>
<p>实例（非静态）成员在语义表示它是“对象的成员”</p>
</li>
<li>
<ul>
<li>实例成员是属于对象的，而非类</li>
</ul>
</li>
<li>
<p>绑定（Binding）指的是编译器如何把一个成员与类或对象关联起来</p>
</li>
<li>
<ul>
<li>不可小觑的 <code>.</code> 操作符 —— 成员访问操作符</li>
</ul>
</li>
</ul>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984647225-de93cc58-a356-4b21-a107-f8b62bb5c8cc.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984661077-f704e705-1d17-409d-b681-06e68db33c44.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>绑定分为“早绑定”和“晚绑定”</p>
<ul>
<li>
<p>早绑定 编译器在编译时就知道成员是隶属于类还是隶属于类的对象</p>
</li>
<li>
<p>晚绑定 编译器不管，由程序员决定程序运行起来后一个成员（方法或属性）是隶属于类还是某个对象</p>
</li>
<li>
<ul>
<li>有晚绑定的语言一般叫做动态语言，例如 JavaScript</li>
</ul>
</li>
</ul>
<h1>005 C#语言基本元素概览，初识类型、变量与方法，算法简介</h1>
<p>本节内容：</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984889223-5d18dcfc-2f55-48dd-9316-e5395d7e43a9.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<table>
<thead>
<tr>
<th><strong>熟悉 C# 语言</strong></th>
<th><strong>精通 C# 语言</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>对于构成 C# 的基本元素你都认识常见的基本元素你都能正确的使用</td>
<td>对于构成 C# 的基本元素你都会使用对于常见的你不仅会使用还不会出错误还能在更深层次上去理解这些基本元素了解一些它们背后的运行机制</td>
</tr>
</tbody>
</table>
<p>面试时算法和数据结构都很重要。</p>
<h2 id="构成-C-语言的基本元素">构成 C# 语言的基本元素</h2>
<ul>
<li>
<p>关键字（Keyword）</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// var ——variable 声明隐式类型变量</span><br><span class="hljs-built_in">int</span> x;<br><span class="hljs-keyword">var</span> x = <span class="hljs-number">100</span>;<br>Console.WriteLine(x.GetType().Name);  <span class="hljs-comment">// print Int32</span><br><span class="hljs-comment">// 100L —— Int64	100D —— Double	&quot;100&quot; —— String</span><br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> &#123; Name = <span class="hljs-string">&quot;Mr.Okay&quot;</span>, Age =<span class="hljs-number">34</span>&#125;;  <span class="hljs-comment">// var 为匿名类型创建对象，并用隐式类型变量来引用实例</span><br></code></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// new </span><br><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> stu = <span class="hljs-keyword">new</span> Student();<br>        stu.Report();  <span class="hljs-comment">// print I&#x27;m a student.</span><br>        <span class="hljs-keyword">var</span> csStu = <span class="hljs-keyword">new</span> CsStudent();  <span class="hljs-comment">// 此处 new 为操作符</span><br>        csStu.Report();  <span class="hljs-comment">// print I&#x27;m CS student.</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Report</span>()</span><br>    &#123;<br>        Console.WriteLine(<span class="hljs-string">&quot;I&#x27;m a student.&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">CsStudent</span>:<span class="hljs-title">Student</span><br>&#123;<br>    <span class="hljs-keyword">new</span> <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Report</span>()  <span class="hljs-comment">// new 作为修饰符</span></span><br>    &#123;<br>        Console.WriteLine(<span class="hljs-string">&quot;I&#x27;m CS student.&quot;</span>);  <span class="hljs-comment">// 如无此行，调用 csStu.Report(); 仍输出 I&#x27;m a student. 即子类把父类的方法隐藏</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> delegate 声明委托的数据类型<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>操作符（Operator）</p>
</li>
<li>
<p>标识符</p>
<ul>
<li>
<p>什么是合法的标识符</p>
<ul>
<li>怎样阅读语言定义文档</li>
</ul>
</li>
<li>
<p>大小写规范</p>
</li>
<li>
<p>命名规范</p>
</li>
</ul>
</li>
<li>
<p>标点符号</p>
</li>
<li>
<p>文本（字面值）</p>
<ul>
<li>
<p>整数</p>
<ul>
<li>多种后缀</li>
</ul>
</li>
<li>
<p>实数</p>
<ul>
<li>多种后缀</li>
</ul>
</li>
<li>
<p>字符</p>
</li>
<li>
<p>字符串</p>
</li>
<li>
<p>布尔</p>
</li>
<li>
<p>空（null）</p>
</li>
</ul>
</li>
<li>
<p>注释与空白</p>
<ul>
<li>
<p>单行</p>
</li>
<li>
<p>多行（块注释）</p>
</li>
</ul>
</li>
</ul>
<h3 id="怎样阅读语言定义文档">怎样阅读语言定义文档</h3>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541984965427-b873c5fb-c850-410d-9f65-0fe6d5988a05.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h3 id="标识符">标识符</h3>
<p>合法标识符：</p>
<ul>
<li>
<p>标识符不允许是关键字，如果非要用关键字就在前面加 <code>@</code> 符号</p>
</li>
<li>
<p>标识符必需以字符或下划线开头</p>
</li>
<li>
<ul>
<li>字符包括英文字符，也包括汉语、俄语等字符</li>
</ul>
</li>
<li>
<p>开始字符的后面可以跟字符、数字、下划线</p>
</li>
</ul>
<h3 id="文本（字面值）">文本（字面值）</h3>
<ul>
<li>[ ] p5 30’54 start note</li>
</ul>
<p>浮点数</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230102182828848.png" srcset="/img/loading.gif" lazyload alt="image-20230102182828848"></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">char</span> c = <span class="hljs-string">&#x27;a&#x27;</span>;  <span class="hljs-comment">// 字符</span><br><span class="hljs-built_in">string</span> str = <span class="hljs-string">&quot;a&quot;</span>;  <span class="hljs-comment">// 字符串</span><br><span class="hljs-comment">/*布尔类型*/</span><br><span class="hljs-built_in">bool</span> d1 = <span class="hljs-literal">true</span>;<br><span class="hljs-built_in">bool</span> d2 = <span class="hljs-literal">false</span>;<br><span class="hljs-built_in">string</span> str = <span class="hljs-literal">null</span>;  <span class="hljs-comment">//空值</span><br><span class="hljs-comment">// 注释不能嵌套/*/**/*/错误</span><br></code></pre></td></tr></table></figure>
<h3 id="基本命名规范">基本命名规范</h3>
<ul>
<li>
<p>变量名都用驼峰法 Camel</p>
</li>
<li>
<ul>
<li>首字母小写，后续单词首字母大写</li>
</ul>
</li>
<li>
<ul>
<li>例：<code>apple</code> <code>smallApple</code></li>
</ul>
</li>
<li>
<p>方法、类、名称空间都用帕斯卡 Pascal</p>
</li>
<li>
<ul>
<li>每个单词的首字母都大写</li>
</ul>
</li>
<li>
<ul>
<li>例：<code>Apple</code> <code>SmallApple</code></li>
</ul>
</li>
</ul>
<p>方法名应该是动词或动词短语，例如 Today 错，GetToday 对。</p>
<h3 id="注释">注释</h3>
<p>好的代码要有自解释性。</p>
<h2 id="初识类型、变量和方法">初识类型、变量和方法</h2>
<ul>
<li>
<p>初识类型（Type）</p>
<ul>
<li>亦称是数据类型（Data Type）</li>
</ul>
</li>
<li>
<p>变量是存放数据的地方，简称“数据”</p>
<ul>
<li>变量的声明</li>
<li>变量的使用</li>
</ul>
</li>
<li>
<p>方法（旧称函数）是处理数据的逻辑，又称“算法”</p>
<ul>
<li>
<p>方法的声明</p>
</li>
<li>
<p>方法的调用</p>
<p>注：可以直接调用静态方法(static)，对于非静态方法，需要先用new实例化对象后再调用</p>
<p>例：三类常用方法</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">//class1.cs</span><br><span class="hljs-keyword">namespace</span> <span class="hljs-title">Tools</span><br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Calculator</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">double</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-built_in">double</span> a, <span class="hljs-built_in">double</span> b</span>)  <span class="hljs-comment">//有数据输入输出</span></span><br>        &#123;<br>            <span class="hljs-keyword">return</span> a + b;<br>        &#125;<br>        <br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">Today</span>()  <span class="hljs-comment">//无数据输入有输出</span></span><br>        &#123;<br>            <span class="hljs-built_in">int</span> day = DateTime.Now.Day;<br>            <span class="hljs-keyword">return</span> day.ToString();<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PrintSum</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> a, <span class="hljs-built_in">int</span> b</span>)  <span class="hljs-comment">//有数据输入无输出</span></span><br>        &#123;<br>            <span class="hljs-built_in">int</span> result = a + b;<br>            Console.WriteLine(result);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//Program.cs</span><br><span class="hljs-keyword">using</span> Tools;<br><span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        <span class="hljs-built_in">double</span> result = Calculator.Add(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>);<br>        Console.WriteLine(result);  <span class="hljs-comment">//print 7</span><br>        <span class="hljs-built_in">string</span> str = Calculator.Today();<br>        Console.WriteLine(str);  <span class="hljs-comment">//print 2  ——2023.1.2 run</span><br>        Calculator c = <span class="hljs-keyword">new</span> Calculator();<br>        c.PrintSum(<span class="hljs-number">4</span>, <span class="hljs-number">6</span>);  <span class="hljs-comment">//pirnt 10</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>程序 = 数据 + 算法</p>
<ul>
<li>有了变量和方法就可以写有意义的程序了</li>
</ul>
</li>
</ul>
<h2 id="算法简介">算法简介</h2>
<ul>
<li>
<p>例：计算 1 到 100 的和</p>
<ul>
<li>
<p>用循环</p>
</li>
<li>
<p>用递归</p>
</li>
<li>
<p>用数学公式</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">MyExample</span><br>&#123;<br>    <span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>        &#123;<br>            Sum c = <span class="hljs-keyword">new</span> Sum();<br>            <span class="hljs-comment">//c.PrintXTo1(10);</span><br>            Console.WriteLine(c.SumFrom1ToX(<span class="hljs-number">100</span>));<br>            Console.ReadKey();  <span class="hljs-comment">// 运行完窗口不退出</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Sum</span><br>    &#123;<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">                //循环</span><br><span class="hljs-comment">                public int SumFrom1ToX(int x)</span><br><span class="hljs-comment">                &#123;</span><br><span class="hljs-comment">                    int result = 0;</span><br><span class="hljs-comment">                    for (int i = 1; i &lt; x + 1; i++)</span><br><span class="hljs-comment">                    &#123;</span><br><span class="hljs-comment">                        result += i;</span><br><span class="hljs-comment">                    &#125;</span><br><span class="hljs-comment">                    return result;</span><br><span class="hljs-comment">                &#125;</span><br><span class="hljs-comment">        */</span><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">                //递归——占用内存多</span><br><span class="hljs-comment">                public int SumFrom1ToX(int x)</span><br><span class="hljs-comment">                &#123;</span><br><span class="hljs-comment">                    if (x == 1)</span><br><span class="hljs-comment">                    &#123;</span><br><span class="hljs-comment">                        return x;</span><br><span class="hljs-comment">                    &#125;</span><br><span class="hljs-comment">                    else</span><br><span class="hljs-comment">                    &#123;</span><br><span class="hljs-comment">                        //int result = x + SumFrom1To100(--x);</span><br><span class="hljs-comment">                        //return result;</span><br><span class="hljs-comment">                        x = x + SumFrom1To100(--x);</span><br><span class="hljs-comment">                        return x;</span><br><span class="hljs-comment">                    &#125;</span><br><span class="hljs-comment">                &#125;</span><br><span class="hljs-comment">        */</span><br><br>        <span class="hljs-comment">//数学公式</span><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">SumFrom1ToX</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> x</span>)</span><br>        &#123;<br>            <span class="hljs-keyword">return</span> (<span class="hljs-number">1</span> + x) * x / <span class="hljs-number">2</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>很明显直接用数学公式效率最高。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">//作业：汉诺塔问题</span><br><span class="hljs-keyword">namespace</span> <span class="hljs-title">Hanoi</span><br>&#123;<br>    <span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>        &#123;<br>            Move a = <span class="hljs-keyword">new</span> Move();<br>            Console.Write(<span class="hljs-string">&quot;请输入盘数：&quot;</span>);<br>            <span class="hljs-built_in">int</span> n = Convert.ToInt32(Console.ReadLine());<br>            Console.WriteLine(<span class="hljs-string">&quot;一共移动了&#123;0&#125;次&quot;</span>, a.Hanoilmpl(n, <span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>));<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Move</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Hanoilmpl</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> x, <span class="hljs-built_in">char</span> src, <span class="hljs-built_in">char</span> tmp, <span class="hljs-built_in">char</span> dst</span>)</span><br>        &#123;<br>            <span class="hljs-built_in">int</span> t1, t2;<br>            <span class="hljs-keyword">if</span> (x == <span class="hljs-number">1</span>)<br>            &#123;<br>                MoveAToC(src, dst);<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                t1 = Hanoilmpl(x - <span class="hljs-number">1</span>, src, dst, tmp);<br>                MoveAToC(src, dst);<br>                t2 = Hanoilmpl(x - <span class="hljs-number">1</span>, tmp, src, dst);<br>                <span class="hljs-keyword">return</span> t1 + t2 + <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">MoveAToC</span>(<span class="hljs-params"><span class="hljs-built_in">char</span> src, <span class="hljs-built_in">char</span> dst</span>)</span><br>        &#123;<br>            Console.WriteLine(<span class="hljs-string">&quot;&#123;0&#125; -&gt; &#123;1&#125;&quot;</span>, src, dst);<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1>006,007 详解类型、变量与对象</h1>
<h2 id="什么是类型">什么是类型</h2>
<ul>
<li>
<p>Type 又名数据类型（Data Type）</p>
<ul>
<li>
<p>A data type is a homogeneous collection of values, effectively presented, equipped with a set of operations which manipulate these values.</p>
</li>
<li>
<p>是数据在内存中存储时的“型号”</p>
</li>
<li>
<p>小内存容纳大尺寸数据会丢失精度、发生错误</p>
</li>
<li>
<p>大内存容纳小尺寸数据会导致浪费</p>
</li>
<li>
<p>编程语言的数据类型与数据的数据类型不完全相同</p>
</li>
</ul>
</li>
<li>
<p>强类型语言与弱类型语言的比较</p>
<ul>
<li>强类型：编写程序时，程序中的数据受到数据类型的约束，即强类型编程语言——保证了数据的完整性、正确性</li>
<li>弱类型：数据受类型约束不严格，或基本不受约束，即弱类型编程语言
<ul>
<li>如C中<code>if(x=20)</code>可以通过编译，为避免上述问题，常写作<code>if(20=x)</code></li>
<li>如 JavaScript 动态类型 <code>var myVar=100;    myVar=&quot;Mr.Okay!&quot;;</code>是正确的</li>
</ul>
</li>
<li>C# 从 4.0 开始引入了 Dynamic，让它可以利用动态语言的一些特性，但 C# 依然是强类型编程语言</li>
</ul>
</li>
</ul>
<p><strong>要成为优秀的开发人员，软件、硬件、操作系统都要精通。</strong><a target="_blank" rel="noopener" href="https://github.com/kamranahmedse/developer-roadmap">点击查看学习路线</a></p>
<h2 id="类型在-C-语言中的作用">类型在 C# 语言中的作用</h2>
<p>一个 C# 类型中所包含的信息有：</p>
<ul>
<li>
<p>存储此类型变量所需的内存空间大小</p>
</li>
<li>
<p>此类型的值可表示的最大、最小值范围</p>
<table>
<thead>
<tr>
<th style="text-align:center">类型</th>
<th style="text-align:left">范围</th>
<th>大小</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">sbyte</td>
<td style="text-align:left">-128 到 127</td>
<td>有符号 8 位整数</td>
</tr>
<tr>
<td style="text-align:center">byte</td>
<td style="text-align:left">0 到 255</td>
<td>无符号 8 位整数</td>
</tr>
<tr>
<td style="text-align:center">char</td>
<td style="text-align:left">U+0000 到 U+ffff</td>
<td>16 位 Unicode 字符</td>
</tr>
<tr>
<td style="text-align:center">short</td>
<td style="text-align:left">-32,768 到 32,767</td>
<td>有符号 16 位整数</td>
</tr>
<tr>
<td style="text-align:center">ushort</td>
<td style="text-align:left">0 到 65,535</td>
<td>无符号 16 位整数</td>
</tr>
<tr>
<td style="text-align:center">int</td>
<td style="text-align:left">-2,147,483,648 到 2,147,483,647</td>
<td>有符号 32 位整数</td>
</tr>
<tr>
<td style="text-align:center">uint</td>
<td style="text-align:left">0 到 4,294,967,295</td>
<td>无符号 32 位整数</td>
</tr>
<tr>
<td style="text-align:center">long</td>
<td style="text-align:left">-9,223,372,036,854,775,808 到  9,223,372,036,854,775,807</td>
<td>有符号 64 位整数</td>
</tr>
<tr>
<td style="text-align:center">ulong</td>
<td style="text-align:left">0 到 18,446,744,073,709,551,615</td>
<td>无符号 64 位整数</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:center">float</td>
<td style="text-align:left">±1.5e?45 到 ±3.4e38</td>
<td>7 位</td>
</tr>
<tr>
<td style="text-align:center">double</td>
<td style="text-align:left">±5.0e?324 到 ±1.7e308</td>
<td>15 到 16 位</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>此类型所包含的成员（如方法、属性、事件等）</p>
<ul>
<li>对一个程序来说，静态指编辑期、编译期，动态指运行期。</li>
<li>静态时装在硬盘里，动态时装在内存里。</li>
</ul>
</li>
<li>
<p>此类型由何基类派生而来</p>
<ul>
<li>
<p>反射示例——通过反射在运行期获取类的属性和方法</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105110240183.png" srcset="/img/loading.gif" lazyload alt="image-20230105110240183">)</p>
</li>
</ul>
</li>
<li>
<p>程序运行的时候，此类型的变量被分配在内存的什么位置（方法调用用到 Stack，Heap 存储对象。）</p>
<ul>
<li>
<p>Stack 简介：方法调用；小，1-2M</p>
</li>
<li>
<p>Stack overflow（栈溢出）</p>
<ul>
<li>
<p>函数调用过多（算法错误），如下例为不良的递归</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105105158445.png" srcset="/img/loading.gif" lazyload alt="image-20230105105158445"></p>
</li>
<li>
<p>在栈上分配了过多内存，如下例在栈上分配了过大内存</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105104843480.png" srcset="/img/loading.gif" lazyload alt="image-20230105104843480"></p>
</li>
</ul>
</li>
<li>
<p>Heap 简介：存储对象，实例；大，几个G</p>
</li>
<li>
<p>使用 Performance Monitor 查看进程的堆内存使用量</p>
<ul>
<li>
<p>Process（进程）</p>
<ul>
<li>程序从硬盘加载到内存中执行就形成了一个进程。</li>
<li>进程就是这个程序正在运行着的实例。</li>
<li>Process 的 ID 简称 PID。</li>
</ul>
</li>
<li>
<p>Performance Monitor——通过性能监视器可以精确监视单个进程的内存消耗</p>
<ul>
<li>
<p>Win + R，键入 perfmon 即可开启性能监视器，按如下步骤操作。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/56$EWHSX8I865W%5DX_%60M_WLB-16728892584911.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li>
<p>运行<code>WpfApp2\WpfApp2\bin\Debug\WpfApp2.exe</code></p>
</li>
<li>
<p>点击<code>Consume Heap Memory</code>后观察内存变化</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105122120065.png" srcset="/img/loading.gif" lazyload alt="image-20230105122120065"></p>
</li>
<li>
<p>vs已集成该功能</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105122909272.png" srcset="/img/loading.gif" lazyload alt="image-20230105122909272"></p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105123054557.png" srcset="/img/loading.gif" lazyload alt="image-20230105123054557"></p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>关于内存泄漏：堆分配后忘记回收</p>
<ul>
<li>c++：泄露</li>
<li>csharp：垃圾收集器机制，无需手动释放，基本不容易出现泄露</li>
</ul>
</li>
</ul>
</li>
<li>
<p>此类型所允许的操作（运算）</p>
</li>
</ul>
<h2 id="C-语言的类型系统">C# 语言的类型系统</h2>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105154906871.png" srcset="/img/loading.gif" lazyload alt="image-20230105154906871"></p>
<p>面试问 C# 数据类型有那些，如下回答。</p>
<ol>
<li>
<p>C# 类型分为引用类型和值类型</p>
</li>
<li>
<p>引用类型包括类、接口、委托，值类型包括结构体和枚举</p>
</li>
<li>
<p>所有类型都以 Object 为自己的基类型</p>
</li>
</ol>
<h3 id="C-的五大数据类型">C# 的五大数据类型</h3>
<h4 id="Classes">Classes</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs csharp">Type myType = <span class="hljs-keyword">typeof</span>(Form);<br>Console.WriteLine(myType.Name);  <span class="hljs-comment">// print Form</span><br>Console.WriteLine(myType.FullName);  <span class="hljs-comment">// print System.Windows.Forms.Form</span><br>Console.WriteLine(myType.IsClass);  <span class="hljs-comment">// print True</span><br></code></pre></td></tr></table></figure>
<h4 id="Structures">Structures</h4>
<p>在定义中还可以直接看到 MaxValue、MinValue。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541985581074-690ec7d4-16cd-49e8-8258-e59933df4dbe.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="Enumerations">Enumerations</h4>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541985601710-3f9d8588-1ea1-4e55-85bb-74f617a8301e.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105150830173.png" srcset="/img/loading.gif" lazyload alt="image-20230105150830173"></p>
<h2 id="变量、对象与内存">变量、对象与内存</h2>
<ul>
<li>
<h3 id="什么是变量">什么是变量</h3>
<p>变量=以变量名所对应的内存地址为起点、以其数据类型所要求的存储空间为长度的一块内存区域</p>
<ul>
<li>
<p>表面上来看（从C#代码的上下文行文上来看），变量的用途是存储数据</p>
</li>
<li>
<p>实际上，变量表示了存储位置，并且每个变量都有一个类型，以决定什么样的值能够存入变量</p>
<ul>
<li>变量名表示（对应着)变量的值在内存中的存储位置，计算机系统通过变量的类型来分配给它对应大小的内存空间</li>
</ul>
</li>
<li>
<p>变量一共有7种</p>
<ul>
<li>
<p>静态变量，实例变量（成员变量，字段），数组元素，值参数，引用参数，输出形参，局部变量</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">TypeInCSharp</span><br>&#123;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>        &#123;<br><span class="hljs-comment">/*            // 静态成员变量</span><br><span class="hljs-comment">            Student.Amount;*/</span><br><span class="hljs-comment">/*            // 字段：字段是属性的雏形，可以赋任意值。</span><br><span class="hljs-comment">            Student stu = new Student();</span><br><span class="hljs-comment">            stu.Age = -1;  // 人的年龄不应该为 -1*/</span><br><span class="hljs-comment">/*            // 数组元素</span><br><span class="hljs-comment">            int[] array = new int[100];</span><br><span class="hljs-comment">            array[0];*/</span><br><span class="hljs-comment">/*            //int a,b,c均为声明变量</span><br><span class="hljs-comment">            int a;</span><br><span class="hljs-comment">            a = 100;</span><br><span class="hljs-comment">            int b;</span><br><span class="hljs-comment">            b = 200;</span><br><span class="hljs-comment">            int c = a + b;</span><br><span class="hljs-comment">            Console.WriteLine(c);*/</span><br>        &#125;<br><br>        <span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><br>        &#123;<br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">int</span> Amout;<br>            <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Age;<br>            <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name;<br><br>            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-built_in">double</span> a,<span class="hljs-built_in">double</span> b</span>)  <span class="hljs-comment">// a,b为值参数变量</span></span><br><span class="hljs-function">            <span class="hljs-comment">// 加ref为引用参数变量，加out为输出参数变量</span></span><br>            &#123;<br>                <span class="hljs-built_in">double</span> result = a + b;  <span class="hljs-comment">// result为局部变量</span><br>                <span class="hljs-keyword">return</span> result;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>狭义的变量指局部变量，因为其它种类的变量都有自己的约定名称</p>
<ul>
<li>简单地讲，局部变量就是方法体（函数体）里声明的变量</li>
</ul>
</li>
<li>
<p>变量的声明</p>
<ul>
<li>
<p>有效的修饰符组合<sub>opt</sub> 类型 变量名 初始化器<sub>opt</sub>	例：<code>public static int Amount = 0;</code></p>
<div class="note note-success">
            <p>角标opt表示可有可无</p>
          </div>
</li>
</ul>
</li>
</ul>
</li>
<li>
<h3 id="值类型的变量">值类型的变量</h3>
<ul>
<li>
<p>以byte/sbtye/short/ushort为例</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">byte</span> b;<br>b = <span class="hljs-number">100</span>;  <span class="hljs-comment">// 0110 0100</span><br><span class="hljs-built_in">sbyte</span> sb;<br>sb = <span class="hljs-number">-100</span>;  <span class="hljs-comment">// 1 001  1100  ——符号位0正1负，负数补码为反码+1</span><br><span class="hljs-built_in">ushort</span> us;<br>us = <span class="hljs-number">1000</span>;  <span class="hljs-comment">// 0011 1110 1000 ——小端存储为1110 1000 0000 0011</span><br><span class="hljs-built_in">short</span> s;<br>s = <span class="hljs-number">-1000</span>;  <span class="hljs-comment">// 小端存储为0001 1000 1111 1100</span><br><span class="hljs-built_in">string</span> str = Convert.ToString(s, <span class="hljs-number">2</span>);<br>Console.WriteLine(str);  <span class="hljs-comment">// print 1111110000011000</span><br></code></pre></td></tr></table></figure>
</li>
<li>
<p>值类型没有实例，所谓的“实例”与变量合而为一</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">int</span> x = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>();  <span class="hljs-comment">// 等价于 int x;</span><br>x = <span class="hljs-number">100</span>;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<h3 id="引用类型的变量与实例">引用类型的变量与实例</h3>
<ul>
<li>
<p>引用类型变量与实例的关系：引用类型变量里存储的数据是对象的内存地址。例子如下：</p>
<h3 id=""></h3>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp">Student stu;<br></code></pre></td></tr></table></figure>
<p>计算机看到引用类型，直接给它分配 4 个字节，而且全部 Bit 置 0，告诉你这个变量没有引用任何实例。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541985970064-d1310139-8fd2-46f0-8af2-fc8629b6a380.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs csharp">Student stu;<br>stu = <span class="hljs-keyword">new</span> Student();<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span>&#123;<br>    <span class="hljs-built_in">uint</span> ID;<br>    <span class="hljs-built_in">ushort</span> Score;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>现在，引用变量里面存的是实例的地址。<br>
图中左侧是栈，右侧是堆。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105233041323.png" srcset="/img/loading.gif" lazyload alt="image-20230105233041323"></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs csharp">Student stu;<br>stu = <span class="hljs-keyword">new</span> Student();<br>Student stu2;<br>stu2 = stu;<br></code></pre></td></tr></table></figure>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230105233330509.png" srcset="/img/loading.gif" lazyload alt="image-20230105233330509"></p>
</li>
</ul>
</li>
<li>
<h3 id="局部变量是在stack上分配内存">局部变量是在stack上分配内存</h3>
</li>
<li>
<h3 id="变量的默认值">变量的默认值</h3>
<ul>
<li>成员变量一旦在内存中分配好后（实例化），它的内存块就被统统刷成 0，这就是它的默认值。</li>
<li>局部变量没有默认值（c/c++有，为0或垃圾值），因为 C# 为了避免不安全代码，要求局部变量必需有显式赋值。</li>
</ul>
</li>
<li>
<h3 id="常量（值不可改变的变量）">常量（值不可改变的变量）</h3>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> x = <span class="hljs-number">100</span>;<br>Console.WriteLine(x);<br>x = <span class="hljs-number">100</span>;  <span class="hljs-comment">// 错误	CS0131	赋值号左边必须是变量、属性或索引器</span><br></code></pre></td></tr></table></figure>
</li>
<li>
<h3 id="装箱与拆箱（Boxing-Unboxing">装箱与拆箱（Boxing &amp; Unboxing )</h3>
<p>参考<a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/dotnet/csharp/tour-of-csharp/types-and-variables">Docs Types and Variables</a></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">int</span> a = <span class="hljs-number">100</span>;<br><span class="hljs-built_in">object</span> x;<br></code></pre></td></tr></table></figure>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541986096863-7cae610e-16ca-46e8-b476-c3cb8619c1e8.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><strong>装箱</strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">int</span> a = <span class="hljs-number">100</span>;<br><span class="hljs-built_in">object</span> x;<br>x = a;<br></code></pre></td></tr></table></figure>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541986150537-4e0c65e4-a03f-4cc0-9e15-1309de326e26.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><strong>拆箱</strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">int</span> a = <span class="hljs-number">100</span>;<br><span class="hljs-built_in">object</span> x;<br>x = a;<br><span class="hljs-built_in">int</span> b = (<span class="hljs-built_in">int</span>)x;<br>Console.WriteLine(b);<br></code></pre></td></tr></table></figure>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541986189842-7663ab16-ce0e-4ae5-ab6e-8be97a8f6fc4.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
</ul>
<p>推书：编码的奥秘、c#实践教程（清华大学出版社）</p>
<h1>008,009 方法的定义、调用与调试</h1>
<p>推荐好书：<strong>《CLR via C#》 《C# IN DEPTH》</strong>（中文名 《深入理解C#》）。学习完课程后，一定要把这两本书好好读读，完成从初级到高级的转变。</p>
<h2 id="方法的由来">方法的由来</h2>
<ul>
<li>
<p>方法（method）的前身是 C/C++ 语言的函数（function）</p>
<ul>
<li>
<p>方法是面向对象范畴的概念，在非面向对象语言中仍然称为函数</p>
</li>
<li>
<p>使用 C/C++ 语言做对比</p>
<p><strong>c函数示例：</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">double</span> <span class="hljs-title function_">Add</span><span class="hljs-params">(<span class="hljs-type">double</span> a, <span class="hljs-type">double</span> b)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> a + b;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">double</span> x = <span class="hljs-number">3.0</span>;<br>    <span class="hljs-type">double</span> y = <span class="hljs-number">5.0</span>;<br>    <span class="hljs-type">double</span> result = Add(x, y);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%f+%f=%f&quot;</span>,x,y,result);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>C++ 函数示例：</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">Add</span><span class="hljs-params">(<span class="hljs-type">double</span> a, <span class="hljs-type">double</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> a + b;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">double</span> x = <span class="hljs-number">3.0</span>;<br>    <span class="hljs-type">double</span> y = <span class="hljs-number">5.0</span>;<br>    <span class="hljs-type">double</span> result = <span class="hljs-built_in">Add</span>(x, y);<br>    std::cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;+&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;=&quot;</span> &lt;&lt; result;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>当一个函数以类的成员的身份出现时，它就被称为方法。方法有一个别名叫“成员函数”。 C++ 里面完成了函数向方法的过渡。</p>
<p><strong>c++添加类：</strong></p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541986618636-e9c95514-98d5-4753-9f4c-1d162922512a.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//Student.h</span><br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Student</span>();<br>    ~<span class="hljs-built_in">Student</span>();<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SayHello</span><span class="hljs-params">()</span></span>;<br>&#125;;<br></code></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//Student.cpp</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Student.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br>Student::<span class="hljs-built_in">Student</span>()<br>&#123;<br>&#125;<br><br>Student::~<span class="hljs-built_in">Student</span>()<br>&#123;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Student::SayHello</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Hello! I&#x27;m a student!&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//Source.cpp</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Student.h&quot;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    Student *pStu = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Student</span>();<br>    pStu-&gt;<span class="hljs-built_in">SayHello</span>();<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>方法永远都是类（或结构体）的成员</p>
<ul>
<li>
<p>C# 语言中函数不可能独立于类（或结构体）之外</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541986701901-1e4e829a-ebbe-4c23-a2f0-e5a50990202c.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li>
<p>只有作为类（或结构体）的成员时才被称为方法</p>
</li>
<li>
<p>C++ 中函数可以独立于类之外，称为“全局函数”</p>
</li>
</ul>
</li>
<li>
<p>方法是类（或结构体）最基本的成员之一</p>
<ul>
<li>最基本的成员只有两个 —— 字段与方法（成员变量与成员方法），本质还是数据 + 算法</li>
<li>方法表示类（或结构体）“能做什么事情”</li>
</ul>
</li>
<li>
<p>为什么需要方法和函数</p>
<ul>
<li>
<p>目的 1：隐藏复杂的逻辑</p>
</li>
<li>
<p>目的 2：把大算法分解为小算法（自顶向下，逐步求精——面向过程）</p>
</li>
<li>
<p>目的 3：复用（reuse，重用）</p>
</li>
<li>
<p>示例：计算圆面积、圆柱体积、圆锥体积</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">CSharpMethordExample</span><br>&#123;<br>    <span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>        &#123;<br>            Calculator c = <span class="hljs-keyword">new</span> Calculator();<br>            Console.WriteLine(c.GetCylinderVolume(<span class="hljs-number">10</span>, <span class="hljs-number">100</span>));  <span class="hljs-comment">// print 31415.926535897932</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Calculator</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> <span class="hljs-title">GetCircleArea</span>(<span class="hljs-params"><span class="hljs-built_in">double</span> r</span>)</span><br>        &#123;<br>            <span class="hljs-keyword">return</span> Math.PI * r * r;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> <span class="hljs-title">GetCylinderVolume</span>(<span class="hljs-params"><span class="hljs-built_in">double</span> r, <span class="hljs-built_in">double</span> h</span>)</span><br>        &#123;<br>            <span class="hljs-keyword">return</span> GetCircleArea(r) * h;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> <span class="hljs-title">GetConeVolume</span>(<span class="hljs-params"><span class="hljs-built_in">double</span> r, <span class="hljs-built_in">double</span> h</span>)</span><br>        &#123;<br>            <span class="hljs-keyword">return</span> GetCylinderVolume(r, h) / <span class="hljs-number">3</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="方法的声明与调用">方法的声明与调用</h2>
<ul>
<li>
<p>声明方法的语法详解</p>
<ul>
<li>
<p>参见C#语言文档(声明/定义不分家)（C++ 声明放在头文件，定义放在代码文件里面）</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541986824325-76573118-2b51-4794-8bfe-b87104797622.png" srcset="/img/loading.gif" lazyload alt="方法声明"></p>
</li>
<li>
<p>Parameter全称为&quot;formal parameter&quot;，形式上的参数，简称“形参”</p>
</li>
<li>
<p>Parameter是一种变量(值参数)</p>
</li>
</ul>
</li>
<li>
<p>为方的命名规范</p>
<ul>
<li>大小写规范</li>
<li>需要以动词或者动词短语作为名字</li>
</ul>
</li>
<li>
<p>重温静态(static）方法和实例方法——不需要new就可使用</p>
</li>
<li>
<p>调用方法（<code>()</code>为方法调用操作符）</p>
<ul>
<li>Argument中文C#文档的官方译法为“实际参数”，简称“实参”，可理解为调用方法时的真实条件</li>
<li>调用方法时的argument列表要与定义方法时的parameter列表相匹配
<ul>
<li>C#是强类型语言，arqument是值、parameter是变量，值与变量一定要匹配，不然编译器会报错</li>
<li>例：<code>double result = c.GetCylinderVolume(double x = 3.0, double y = 2.0);</code>错误</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="构造器（一种特殊的方法）">构造器（一种特殊的方法）</h2>
<ul>
<li>构造器（constructor）是类型的成员之一。构造函数译为构造器，成员函数译为方法，它们本质都还是函数。</li>
<li>狭义的构造器指的是“实例构造器”（instance constructor）</li>
<li>如何调用构造器</li>
<li>声明构造器</li>
<li>构造器的内存原理</li>
</ul>
<h3 id="如何声明和调用构造器">如何声明和调用构造器</h3>
<div class="note note-success">
            <p><strong>Code Snippet</strong></p><p>输入<code>ctor</code>后摁两次<code>tab</code>键可快速生成构造器代码片段 ——即简易函数模板</p>
          </div>
<h4 id="默认构造器">默认构造器</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">ConstructorExample</span><br>&#123;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>        &#123;<br>            Student stu = <span class="hljs-keyword">new</span> Student();  <span class="hljs-comment">// 调用Student的构造器</span><br>            Console.WriteLine(stu.ID);  <span class="hljs-comment">// print 0 —— 即默认构造器将`int`型的 ID 初始化为 0：</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><br>    &#123;<br>        <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> ID;<br>        <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="无参数默认构造器">无参数默认构造器</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">ConstructorExample</span><br>&#123;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>        &#123;<br>            Student stu = <span class="hljs-keyword">new</span> Student();<br>            Console.WriteLine(stu.ID);  <span class="hljs-comment">// print 1</span><br>            Console.WriteLine(stu.Name);  <span class="hljs-comment">// print No name</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><br>    &#123;<br>        <span class="hljs-comment">// 不带参数的自定义默认构造器</span><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Student</span>()  <span class="hljs-comment">// 要求与类名完全一致</span></span><br>        &#123;<br>            ID = <span class="hljs-number">1</span>;<br>            Name = <span class="hljs-string">&quot;No name&quot;</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> ID;<br>        <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="带参数构造器">带参数构造器</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">ConstructorExample</span><br>&#123;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>        &#123;<br>            Student stu = <span class="hljs-keyword">new</span> Student(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;Mr.Okay&quot;</span>);<br>            Console.WriteLine(stu.ID);  <span class="hljs-comment">// print 2</span><br>            Console.WriteLine(stu.Name);  <span class="hljs-comment">// print Mr.Okay</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Student</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> initId,<span class="hljs-built_in">string</span> initName</span>)  <span class="hljs-comment">// 强制带参数</span></span><br>        &#123;<br>            ID = <span class="hljs-keyword">init</span> Id;<br>            Name = initName;<br>        &#125;<br>        <span class="hljs-comment">// 一旦有了带参数的构造器，默认构造器就不存在了。</span><br>        <span class="hljs-comment">// 若还想调用无参数构造器，必需重写一个 Student()</span><br>        <span class="hljs-comment">// 构造后即可使用 Student stu2 = new Student(); 打印成员变量结果如上例</span><br><br>        <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> ID;<br>        <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="构造器内存原理">构造器内存原理</h3>
<p>图中左侧代指栈内存，右侧代指堆内存。<br>
注意栈内存分配是从高地址往低地址分配，直到分配到栈顶。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> ID;<span class="hljs-comment">// int 结构体 占4个字节</span><br><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name;<span class="hljs-comment">// string 引用类型 占4个字节 存储的是实例的地址</span><br></code></pre></td></tr></table></figure>
<h4 id="默认构造器图示">默认构造器图示</h4>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987290852-ea83d0f6-88b4-4a54-bf20-0ebb6b17e833.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="带参数构造器图示">带参数构造器图示</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp">Student stu = <span class="hljs-keyword">new</span> Student(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;Mr.Okay&quot;</span>);<br></code></pre></td></tr></table></figure>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987315175-0ce56b86-9fb4-4d00-b774-ae675c4899d9.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h2 id="方法的重载（Overload）">方法的重载（Overload）</h2>
<h3 id="调用重载方法的示例">调用重载方法的示例</h3>
<p><code>Console.WriteLine()</code> 有多达 19 个重载。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987354814-b71c16a4-0fb4-4c97-878e-11e20784d8ac.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h3 id="声明带有重载的方法">声明带有重载的方法</h3>
<ul>
<li>
<p>方法签名（method signature）由方法的名称、类型形参的个数和它的每一个形参（按从左到右的顺序）的类型和种类（值、引用或输出）组成。方法签名不包含<strong>返回类型</strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> a, <span class="hljs-built_in">int</span> b</span>)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> a + b;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> a, <span class="hljs-built_in">int</span> b, <span class="hljs-built_in">int</span> c</span>)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> a + b +c;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-built_in">double</span> x, <span class="hljs-built_in">double</span> y</span>)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> x + y;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>实例构造函数签名由它的每一个形参（按从左到右的顺序）的类型和种类（值、引用或输出）组成</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// “类型形参”是用在泛型里面的。</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> a, <span class="hljs-built_in">int</span> b</span>)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> a + b;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Add</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-built_in">int</span> a, <span class="hljs-built_in">int</span> b</span>)</span><br>&#123;<br>    T t;<span class="hljs-comment">//...</span><br>    <span class="hljs-keyword">return</span> a + b;<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// 参数种类不同示例：</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> a, <span class="hljs-built_in">int</span> b</span>)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> a + b;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-keyword">ref</span> <span class="hljs-built_in">int</span> a, <span class="hljs-built_in">int</span> b</span>)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> a + b;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> a,<span class="hljs-keyword">out</span> <span class="hljs-built_in">int</span> b</span>)</span><br>&#123;<br>    b = <span class="hljs-number">100</span>;<br>    <span class="hljs-keyword">return</span> a + b;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>重载决策（到底调用哪一个重载）：用于在给定了参数列表和一组候选函数成员的情况下，选择一个最佳的函数成员来实施调用</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs csharp">Console.WriteLine(c.Add(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>));  <span class="hljs-comment">// print 200</span><br>Console.WriteLine(c.Add(<span class="hljs-number">100</span>D, <span class="hljs-number">200</span>D));  <span class="hljs-comment">// print 300</span><br>Console.WriteLine(c.Add(<span class="hljs-number">100</span>));  <span class="hljs-comment">// 编译报错</span><br>Console.WriteLine(c.Add(<span class="hljs-string">&quot;100&quot;</span>, <span class="hljs-number">100</span>));  <span class="hljs-comment">// 编译报错</span><br></code></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="如何对方法进行-debug">如何对方法进行 debug</h2>
<ul>
<li>
<p>设置断点（breakpoint）</p>
</li>
<li>
<p>观察方法调用时的 call stack，通过 call stack 可以直观的追溯方法调用链。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987450419-6d1fa8c2-bb6e-4e7f-9066-a070ca5a0082.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li>
<p>Step-in、Step-over、Step-out</p>
<ul>
<li>步入</li>
<li>步过</li>
<li>Step-out（Shift + F11）用于跳出当前方法并返回到调用它的方法。 这在跨文件方法调用、大项目里面很有用，你想知道到底谁调用了这个方法，直接一个 Shift + F11 就跳过去了。</li>
</ul>
</li>
<li>
<p>观察局部变量的值（利用图钉）与变化（变红）</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987485561-2410a6e1-6846-42c2-b2c9-6d2dbe37e021.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
</ul>
<h2 id="方法的调用与栈">方法的调用与栈</h2>
<ul>
<li>
<p>方法调用时栈内存的分配</p>
<ul>
<li>
<p>对 stack frame 的分析</p>
<ul>
<li>
<p>stack frame：一个方法被调用时，它在栈内存中的布局。</p>
</li>
<li>
<p>C# 中调用方法时的变量归 Caller（主调函数） 管，不归 Callee（被调用者） 管。<br>
压变量入栈，C# 是从左至右的顺序。</p>
</li>
<li>
<p>图示是为了重点解释方法、变量、参数的压栈，实际情况下还要压入返回地址等。<br>
返回值一般存在 CPU 的寄存器里面，特殊情况寄存器存不下该返回值时，会到栈上开辟空间。</p>
</li>
<li>
<p>stack overflow 就是栈无限向上延伸（分配变量、参数、栈针等），最后溢出了。</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="代码">代码</h3>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System;<br><br><span class="hljs-keyword">namespace</span> <span class="hljs-title">CSharpMethodExample</span><br>&#123;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>        &#123;<br>            <span class="hljs-built_in">double</span> result = Calculator.GetConeVolume(<span class="hljs-number">100</span>, <span class="hljs-number">90</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Calculator</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">double</span> <span class="hljs-title">GetCircleArea</span>(<span class="hljs-params"><span class="hljs-built_in">double</span> r</span>)</span><br>        &#123;<br>            <span class="hljs-keyword">return</span> Math.PI * r * r;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">double</span> <span class="hljs-title">GetCylinderVolume</span>(<span class="hljs-params"><span class="hljs-built_in">double</span> r,<span class="hljs-built_in">double</span> h</span>)</span><br>        &#123;<br>            <span class="hljs-built_in">double</span> a = GetCircleArea(r);<br>            <span class="hljs-keyword">return</span> a * h;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">double</span> <span class="hljs-title">GetConeVolume</span>(<span class="hljs-params"><span class="hljs-built_in">double</span> r,<span class="hljs-built_in">double</span> h</span>)</span><br>        &#123;<br>            <span class="hljs-built_in">double</span> cv = GetCylinderVolume(r, h);<br>            <span class="hljs-keyword">return</span> cv / <span class="hljs-number">3</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="分步讲解">分步讲解</h3>
<h4 id="1-进入-Main-方法，调用-GetConeVolume-方法前">1.进入 Main 方法，调用 GetConeVolume 方法前</h4>
<p>在栈上开辟了 Main 方法的 stack frame。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987653195-9a117900-edc5-417a-ab48-7ba9c9c5dd67.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="2-Main-方法中调用-GetConeVolume-时">2.Main 方法中调用 GetConeVolume 时</h4>
<p>将两个参数压入栈中。因为 C# 中调用时的参数归 Caller 管，此处即归 Main 管。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987677709-358deb75-f26f-4e8a-98c0-0580fa42e90d.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="3-进入-GetConeVolume-后">3.进入 GetConeVolume 后</h4>
<p>局部变量是需要入栈的，GetConeVolume 方法中的 cv 入栈。<br>
r，h 也是局部变量，但已经作为参数被 Main 方法压入栈了，所以它只需要压 cv 即可。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987702022-1741f0d8-b046-4a3b-af2e-cebbf3d2c35e.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="4-GetConeVolume-调用-GetCylinderVolume-时">4.GetConeVolume 调用 GetCylinderVolume 时</h4>
<p>将两个参数压入栈中。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987721138-feaffca0-245c-4830-b3b2-48ba2e634caa.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="5-进入-GetCylinderVolume-后">5.进入 GetCylinderVolume 后</h4>
<p>局部变量 a 入栈。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987736936-7e6e1a8b-10a4-4ba6-a385-899151c3a74d.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="6-GetCylinderVolume-调用-GetCircleArea-时">6.GetCylinderVolume 调用 GetCircleArea 时</h4>
<p>GetCircleArea 只有一个参数，将其压入栈即可。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987770948-e840b040-b0b0-488e-b2f0-0e21d0b39e2b.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="7-进入GetCircleArea-后">7.进入GetCircleArea 后</h4>
<p>GetCircleArea 中没有局部变量，但它在栈上也占内存，它有自己的栈针。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987789176-8187c50e-1c7a-4379-a8ec-12cce9640755.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="8-GetCircleArea-返回后">8.GetCircleArea 返回后</h4>
<p>返回值存在 CPU 的寄存器（register）里面。<br>
call stack 少了一层。<br>
函数返回后，它所占有的 stack frame 就清空了。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987813561-a61051e4-fd47-413e-953c-147facf99fd2.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="9-GetCylinderVolume-返回后">9.GetCylinderVolume 返回后</h4>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987829030-f2268c70-ee21-455e-b4f7-c66be4cf4f04.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="10-GetConeVolume-返回后">10.GetConeVolume 返回后</h4>
<p>GetConeVolume 的 stack frame被清空。<br>
Main 方法中调用 GetConeVolume 时压入栈中的两个参数也出栈了。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987849079-d50336cf-76b7-4886-8311-894ca3cd4f09.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="11-Main-返回后（程序结束）">11.Main 返回后（程序结束）</h4>
<p>Main 方法的 stack frame 也被清空。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1541987893922-788e04a2-e529-4d0c-97e4-736beb0b8260.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h1>010,011,012 操作符详解</h1>
<h2 id="操作符概览">操作符概览</h2>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542070693640-b030aa8e-ca29-4f0a-9239-6b5db32c99b6.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<ul>
<li>
<p>操作符（Operator）也译为“运算符”</p>
</li>
<li>
<p>操作符是用来操作数据的，被操作符操作的数据称为操作数（Operand）</p>
</li>
</ul>
<h2 id="操作符的本质">操作符的本质</h2>
<ul>
<li>
<p>操作符的本质是函数（即算法）的“简记法”</p>
<ul>
<li>假如没有发明“+”，只有 <code>Add</code> 函数，算式 <code>3+4+5</code> 将可以写成 <code>Add(Add(3,4),5)</code></li>
<li>假如没有发明“*”，只有 <code>Mul</code> 函数，那么算式 <code>3+4*5</code> 只能写成 <code>Add(3,Mul(4,5))</code></li>
</ul>
</li>
<li>
<p>操作符不能脱离与它关联的数据类型</p>
<ul>
<li>
<p>可以说操作符就是与固定数据类型相关联的一套基本算法的简记法</p>
</li>
<li>
<p>示例：为自定义数据类型创建操作符</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">CreateOperator</span><br>&#123;<br>    <span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>        &#123;<br>            <span class="hljs-built_in">int</span> x = <span class="hljs-number">5</span>;<br>            <span class="hljs-built_in">int</span> y = <span class="hljs-number">4</span>;<br>            <span class="hljs-built_in">int</span> z = x / y;<br>            Console.WriteLine(z);  <span class="hljs-comment">// print 1</span><br><br>            <span class="hljs-built_in">double</span> a = <span class="hljs-number">5.0</span>;<br>            <span class="hljs-built_in">double</span> b = <span class="hljs-number">4.0</span>;<br>            <span class="hljs-built_in">double</span> c = a / b;<br>            Console.WriteLine(c);  <span class="hljs-comment">// print 1.25</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<p>==下例中操作符 <code>+</code> 就是 <code>GetMarry</code> 方法的简记。==</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">CreateOperator</span><br>&#123;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>        &#123;<br>            Person person1 = <span class="hljs-keyword">new</span> Person();<br>            Person person2 = <span class="hljs-keyword">new</span> Person();<br>            person1.Name = <span class="hljs-string">&quot;Deer&quot;</span>;<br>            person2.Name = <span class="hljs-string">&quot;Deer&#x27;s wife&quot;</span>;<br>            <span class="hljs-comment">//List&lt;Person&gt; nation = Person.GetMarry(person1, person2);</span><br>            List&lt;Person&gt; nation = person1 + person2;<br>            <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> p <span class="hljs-keyword">in</span> nation)<br>            &#123;<br>                Console.WriteLine(p.Name);<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Person</span><br>    &#123;<br>        <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name;<br>        <span class="hljs-comment">//public static List&lt;Person&gt; GetMarry(Person p1, Person p2)</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Person&gt; <span class="hljs-keyword">operator</span> + (Person p1, Person p2)<br>        &#123;<br>            List&lt;Person&gt; people = <span class="hljs-keyword">new</span> List&lt;Person&gt;();<br>            people.Add(p1);<br>            people.Add(p2);<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">11</span>; i++)<br>            &#123;<br>                Person child = <span class="hljs-keyword">new</span> Person();<br>                child.Name = p1.Name + <span class="hljs-string">&quot; &amp; &quot;</span> + p2.Name + <span class="hljs-string">&quot;s child&quot;</span>;<br>                people.Add(child);<br>            &#125;<br><br>            <span class="hljs-keyword">return</span> people;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="优先级与运算顺序">优先级与运算顺序</h2>
<ul>
<li>
<p>操作符的优先级</p>
<ul>
<li>可以使用圆括号提高被括起来表达式的优先级</li>
<li>圆括号可以嵌套</li>
<li>不像数学里有方括号与花括号，在 C# 语言里面“[]”与“{}”有专门的用途</li>
</ul>
</li>
<li>
<p>同优先级操作符的运算顺序</p>
<ul>
<li>
<p>除了带有赋值功能的操作符，同优先级操作符都由左向右进行运算</p>
</li>
<li>
<p>带有赋值功能的操作符的运算顺序是由右向左</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">OperatorPriority</span><br>&#123;<br>    <span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>        &#123;<br>            <span class="hljs-built_in">int</span> x = <span class="hljs-number">100</span>;<br>            <span class="hljs-built_in">int</span> y = <span class="hljs-number">200</span>;<br>            <span class="hljs-built_in">int</span> z = <span class="hljs-number">300</span>;<br>            x += y += z;<br>            Console.WriteLine(x);  <span class="hljs-comment">// print 600</span><br>            Console.WriteLine(y);  <span class="hljs-comment">// print 500</span><br>            Console.WriteLine(z);  <span class="hljs-comment">// print 300</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>与数学运算不同，计算机语言的同优先级运算没有“结合率”</p>
</li>
<li>
<p>3+4+5 只能理解为 <code>Add(Add(3,4),5)</code> 不能理解为 <code>Add(3,Add(4,5))</code></p>
</li>
</ul>
</li>
</ul>
<h2 id="各类操作符的示例">各类操作符的示例</h2>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542070850082-08fb9a53-a161-47f5-a4de-d91117fc4b3a.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h3 id="基本操作符">基本操作符</h3>
<h4 id="成员访问操作符"><code>.</code> 成员访问操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs csharp">System.IO.File.Create(<span class="hljs-string">&quot;D:\\HelloWorld.txt&quot;</span>);<br><span class="hljs-comment">//System.IO  ——①访问外层名称空间中的子名称空间</span><br><span class="hljs-comment">//IO.File  ——②访问名称空间中的类型</span><br><span class="hljs-comment">//File.Create()  ——③访问类型的静态成员</span><br>Form myForm = <span class="hljs-keyword">new</span> Form();<br>myForm.Text = <span class="hljs-string">&quot;Hello, World&quot;</span>;  <span class="hljs-comment">// ④访问对象中的实例成员</span><br>myForm.ShowDialog();  <span class="hljs-comment">// ④访问对象的方法</span><br></code></pre></td></tr></table></figure>
<h4 id="f-x-方法调用操作符"><code>f(x)</code> 方法调用操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">OperatorsExample</span><br>&#123;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>        &#123;<br>            Calculator c = <span class="hljs-keyword">new</span> Calculator();  <span class="hljs-comment">// C# 里方法调用都要用到`()`</span><br>            <span class="hljs-built_in">double</span> x = c.Add(<span class="hljs-number">3.0</span>, <span class="hljs-number">4.6</span>);<br>            Console.WriteLine(x);<br><br>            Action myAction = <span class="hljs-keyword">new</span> Action(c.PrintHello);  <span class="hljs-comment">// Action 是委托，委托在创建时只需要知道方法的名称，不调用方法，所以只会用到方法名（不加`()`）</span><br>            myAction();  <span class="hljs-comment">// 依旧需要方法调用操作符`()`</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Calculator</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-built_in">double</span> a,<span class="hljs-built_in">double</span> b</span>)</span><br>        &#123;<br>            <span class="hljs-keyword">return</span> a + b;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PrintHello</span>()</span><br>        &#123;<br>            Console.WriteLine(<span class="hljs-string">&quot;Hello&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="a-x-元素访问操作符"><code>a[x]</code> 元素访问操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">//int[] my IntArray = new int[10];  // 创建长度为10的数组并初始化为0</span><br><span class="hljs-comment">//int[] myIntArray = new int[] &#123; 1, 2, 3, 4, 5 &#125;;  // 自定义赋值</span><br><span class="hljs-built_in">int</span>[] myIntArray = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[<span class="hljs-number">5</span>] &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> &#125;;  <span class="hljs-comment">// 个数必须匹配</span><br><span class="hljs-comment">// 通过下标访问数组元素</span><br>Console.WriteLine(myIntArray[<span class="hljs-number">0</span>]);  <span class="hljs-comment">// print 1</span><br>Console.WriteLine(myIntArray[myIntArray.Length - <span class="hljs-number">1</span>]);  <span class="hljs-comment">//print 5</span><br></code></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        Dictionary&lt;<span class="hljs-built_in">string</span>, Student&gt; stuDic = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, Student&gt;();<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)<br>        &#123;<br>            <span class="hljs-keyword">var</span> stu = <span class="hljs-keyword">new</span> Student()<br>            &#123;<br>                Name = <span class="hljs-string">&quot;s_&quot;</span> + i.ToString(),<br>                Score = <span class="hljs-number">100</span> - i<br>            &#125;;<br>            stuDic.Add(stu.Name, stu);<br>        &#125;<br>        <span class="hljs-comment">// 索引字典中的元素</span><br>        Console.WriteLine(stuDic[<span class="hljs-string">&quot;s_6&quot;</span>].Score);  <span class="hljs-comment">//print 94</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Score;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="x-x-后置自增、自减操作符"><code>x++ x--</code> 后置自增、自减操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">int</span> x = <span class="hljs-number">100</span>;<br><span class="hljs-built_in">int</span> y = x++;  <span class="hljs-comment">// 先赋值，再自增</span><br>Console.WriteLine(x);  <span class="hljs-comment">// print 101</span><br>Console.WriteLine(y);  <span class="hljs-comment">// print 100</span><br><span class="hljs-built_in">int</span> z = x--;<br>Console.WriteLine(x);  <span class="hljs-comment">// print 100</span><br>Console.WriteLine(z);  <span class="hljs-comment">// print 101</span><br></code></pre></td></tr></table></figure>
<h4 id="new-操作符"><code>new</code> 操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// new 操作符基本功能</span><br><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>&#123;<br>    <span class="hljs-comment">// 在内存中创建类型实例，调用实例构造器</span><br>    <span class="hljs-comment">// 把实例地址通过赋值操作符交给访问它的变量</span><br>    <span class="hljs-keyword">var</span> myForm = <span class="hljs-keyword">new</span> Form();<br>    myForm.Text = <span class="hljs-string">&quot;Hello&quot;</span>;<br>    myForm.ShowDialog&#123;&#125;;<br><br>    <span class="hljs-comment">// new 操作符可以调用实例的初始化器</span><br>    <span class="hljs-keyword">var</span> myForm2 = <span class="hljs-keyword">new</span> Form()<br>    &#123;<br>        Text = <span class="hljs-string">&quot;Hello&quot;</span>,<br>        FormBorderStyle=FormBorderStyle.SizableToolWindow  <span class="hljs-comment">// 无窗口缩放按钮</span><br>    &#125;;<br><br>    <span class="hljs-comment">// new 一次性变量：利用实例的初始化器直接 new 对象后，马上执行方法，然后就不管它了，随着 GC 去处理它</span><br>    <span class="hljs-keyword">new</span> Form() &#123; Text = <span class="hljs-string">&quot;Hello&quot;</span> &#125;.ShowDialog();<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// string 为类类型，创建时应需要 new 操作符</span><br><span class="hljs-comment">// 通过 C# 的语法糖，我们在声明常用类型的变量时不需要 new 操作符</span><br><span class="hljs-built_in">string</span> name = <span class="hljs-string">&quot;Tim&quot;</span>;<br><span class="hljs-built_in">string</span> name2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">string</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">char</span>[]&#123; <span class="hljs-string">&#x27;T&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span> &#125;);<br><br><span class="hljs-built_in">int</span>[] myArray1 = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span> &#125;;<br><span class="hljs-built_in">int</span>[] myArray2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[<span class="hljs-number">4</span>];<br></code></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs csharp">Form myForm2 = <span class="hljs-keyword">new</span> Form()&#123;Text = <span class="hljs-string">&quot;Hello&quot;</span>&#125;;<br><span class="hljs-comment">// new 为匿名类型创建对象，并且用隐式类型变量（var）来引用这个实例</span><br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> &#123; Name = <span class="hljs-string">&quot;Mr.Okay&quot;</span>, Age = <span class="hljs-number">34</span>, Dob=<span class="hljs-literal">true</span> &#125;;<br>Console.WriteLine(person.Name);  <span class="hljs-comment">// print Mr.Okay</span><br>Console.WriteLine(person.Age);  <span class="hljs-comment">// print 34</span><br>Console.WriteLine(person.GetType().Name);  <span class="hljs-comment">// print &lt;&gt;f__AnonymousType0`3</span><br><span class="hljs-comment">// &lt;&gt;f__AnonymousType 为约定的前缀，0 指在程序中创建的第一个，`3 指这是一个泛型类，需要3个类型来构成它</span><br></code></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// new 操作符功能强大，但会造成依赖。new 出 myForm 后，Program class 就依赖到 myForm 上了，</span><br><span class="hljs-comment">// 一旦 myForm 运行出错，Program 类也会出问题。</span><br><span class="hljs-comment">// new 操作符会导致依赖紧耦合，可以通过设计模式中的依赖注入模式来将紧耦合变成相对松的耦合</span><br><span class="hljs-keyword">var</span> myForm = <span class="hljs-keyword">new</span> Form() &#123; Text = <span class="hljs-string">&quot;Hello&quot;</span> &#125;;<br></code></pre></td></tr></table></figure>
<h4 id="typeof-操作符"><code>typeof</code> 操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// typeof 操作符 检测类型元数据（Metadata）</span><br>检测类型元数据（Metadata）<br>Type t = <span class="hljs-keyword">typeof</span>(<span class="hljs-built_in">int</span>);<br>Console.WriteLine(t.Namespace);<br>Console.WriteLine(t.FullName);<br>Console.WriteLine(t.Name);<br><br><span class="hljs-built_in">int</span> c = t.GetMethods().Length;<br>Console.WriteLine(c);<br><span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> m <span class="hljs-keyword">in</span> t.GetMethods())<br>&#123;<br>    Console.WriteLine(m.Name);<br>&#125;<br><span class="hljs-comment">// print CompareTo CompareTo Equals Equals GetHashCode ToString ToString ToString ToString TryFormat Parse Parse Parse Parse Parse TryParse TryParse TryParse TryParse GetTypeCode GetType</span><br></code></pre></td></tr></table></figure>
<h4 id="default-操作符"><code>default</code> 操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// default 操作符 用来获取某类型的默认值</span><br><span class="hljs-keyword">namespace</span> <span class="hljs-title">OperatorsExample</span><br>&#123;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>    &#123;<br>        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>        &#123;<br>            <span class="hljs-comment">// 结构体类型</span><br>            <span class="hljs-built_in">int</span> x = <span class="hljs-literal">default</span>(<span class="hljs-built_in">int</span>);<br>            <span class="hljs-built_in">int</span> y = <span class="hljs-literal">default</span>(<span class="hljs-built_in">double</span>);<br>            Console.WriteLine(x);  <span class="hljs-comment">// print 0</span><br>            Console.WriteLine(x);  <span class="hljs-comment">// print 0</span><br><br>            <span class="hljs-comment">// 引用类型内存块刷成 0，没有引用，default 是 null。</span><br>            Form myForm = <span class="hljs-literal">default</span>(Form);<br>            Console.WriteLine(myForm);  <span class="hljs-comment">// print </span><br>            Console.WriteLine(myForm == <span class="hljs-literal">null</span>);  <span class="hljs-comment">// print True</span><br><br>            <span class="hljs-comment">// 枚举类型映射到整型上，默认枚举值是对应值为 0 的那个，可以手动指定，也可以系统默认赋值</span><br>            <span class="hljs-comment">// 系统默认枚举类型第一个为0，后续依次加一</span><br>            <span class="hljs-comment">// 创建枚举类型时，最好有一个对应 0 的</span><br>            <span class="hljs-comment">// 若手动赋值无为0的项，查找枚举的 default 值时逻辑错误会打印0</span><br>            Level level = <span class="hljs-literal">default</span>(Level);<br>            Console.WriteLine(level);  <span class="hljs-comment">// print High</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-built_in">enum</span> Level<br>    &#123;<br>        Low = <span class="hljs-number">1</span>,<br>        Mid = <span class="hljs-number">2</span>,<br>        High = <span class="hljs-number">0</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="checked-unchecked-操作符"><code>checked</code> &amp; <code>unchecked</code> 操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// checked 用来检查一个值在内存中是否有溢出；unchecked 表示不用检查</span><br><span class="hljs-built_in">uint</span> x = <span class="hljs-built_in">uint</span>.MaxValue;<br>Console.WriteLine(x);  <span class="hljs-comment">// print 4294967295</span><br><br><span class="hljs-keyword">var</span> binStr = Convert.ToString(x, <span class="hljs-number">2</span>);<br>Console.WriteLine(binStr);  <span class="hljs-comment">// print 11111111111111111111111111111111</span><br><br><span class="hljs-built_in">uint</span> y = x + <span class="hljs-number">1</span>;<br>Console.WriteLine(y);  <span class="hljs-comment">// print 0</span><br><br><span class="hljs-keyword">try</span><br>&#123;<br>    <span class="hljs-comment">// C# 默认采用的就是 unchecked 模式</span><br>    <span class="hljs-built_in">uint</span> y = <span class="hljs-keyword">unchecked</span>(x + <span class="hljs-number">1</span>);<br>    Console.WriteLine(y);<br>&#125;<br><span class="hljs-keyword">catch</span> (OverflowException ex)<br>&#123;<br>    Console.WriteLine(<span class="hljs-string">&quot;There&#x27;s overflow!&quot;</span>);<br>&#125;<br><span class="hljs-comment">// print 0</span><br><br><span class="hljs-comment">/*uint z = checked(x+1);</span><br><span class="hljs-comment">Console.WriteLine(z);*/</span><br><span class="hljs-comment">/*print 未经处理的异常:  System.OverflowException: 算术运算导致溢出。</span><br><span class="hljs-comment">   在 OperatorsExample.Program.Main(String[] args) 位置 E:\study\c#\repos\ConsoleApp2\ConsoleApp2\Program.cs:行号 197*/</span><br><span class="hljs-comment">// 出现异常后程序直接结束运行，不再运行后续未执行的代码</span><br><br><span class="hljs-keyword">try</span><br>&#123;<br>    <span class="hljs-built_in">uint</span> y = checked(x + <span class="hljs-number">1</span>);<br>    Console.WriteLine(y);<br>&#125;<br><span class="hljs-keyword">catch</span> (OverflowException ex)<br>&#123;<br>    Console.WriteLine(<span class="hljs-string">&quot;There&#x27;s overflow!&quot;</span>);<br>&#125;<br><span class="hljs-comment">// print There&#x27;s overflow!</span><br></code></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">//checked 与 unchecked 的上下文用法。</span><br><span class="hljs-built_in">uint</span> x = <span class="hljs-built_in">uint</span>.MaxValue;<br>Console.WriteLine(x);<br><br><span class="hljs-keyword">var</span> binStr = Convert.ToString(x, <span class="hljs-number">2</span>);<br>Console.WriteLine(binStr);<br><br><span class="hljs-comment">//unchecked</span><br>checked<br>&#123;<br>    <span class="hljs-keyword">try</span><br>    &#123;<br>        <span class="hljs-built_in">uint</span> y = x + <span class="hljs-number">1</span>;<br>        Console.WriteLine(y);<br>    &#125;<br>    <span class="hljs-keyword">catch</span> (OverflowException ex)<br>    &#123;<br>        Console.WriteLine(<span class="hljs-string">&quot;There&#x27;s overflow!&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="delegate-操作符"><code>delegate</code> 操作符</h4>
<p>由于 Lambda 表达式的流行，delegate 作为操作符的场景愈发少见（被 Lambda 替代，已经过时）。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MainWindow</span> : <span class="hljs-title">Window</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MainWindow</span>()</span><br>    &#123;<br>        InitializeComponent();<br>        <span class="hljs-comment">//this.myButton.Click += myButton_Click;  // 非匿名方法</span><br>        <br>        <span class="hljs-comment">// 方法封装提高了复用性，但如果我这个方法在别的地方不太可能用到，我就可以使用匿名方法</span><br>        <span class="hljs-comment">// 下面就是使用 delegate 来声明匿名方法</span><br>        <span class="hljs-keyword">this</span>.myButton.Click += <span class="hljs-built_in">delegate</span> (<span class="hljs-built_in">object</span> sender, RoutedEventArgs e)<br>        &#123;<br>            <span class="hljs-keyword">this</span>.myTextBox.Text = <span class="hljs-string">&quot;Hello, World!&quot;</span>;<br>        &#125;; <br>        <br><span class="hljs-comment">/*        // 现在推荐使用的是 Lambda 表达式</span><br><span class="hljs-comment">        this.myButton.Click += (sender, e) =&gt;</span><br><span class="hljs-comment">        &#123;</span><br><span class="hljs-comment">            this.myTextBox.Text = &quot;Hello, World!&quot;;</span><br><span class="hljs-comment">        &#125;;*/</span><br>        <br>    &#125;<br><span class="hljs-comment">/*        // 非匿名方法</span><br><span class="hljs-comment">        private void myButton_Click(object sender, RoutedEventArgs e)</span><br><span class="hljs-comment">        &#123;</span><br><span class="hljs-comment">            this.myTextBox.Text = &quot;Hello, World!&quot;;</span><br><span class="hljs-comment">        &#125;*/</span><br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="sizeof-操作符"><code>sizeof</code> 操作符</h4>
<p>sizeof 用于获取对象在内存中所占字节数。</p>
<p>注意：</p>
<ol>
<li>
<p>默认情况下 sizeof 只能获取基本数据类型（结构体类型）的实例在内存中的字节数</p>
<ul>
<li>
<p>int、uint、long、ulong、double 可以</p>
</li>
<li>
<p>string、object 不行</p>
</li>
</ul>
</li>
<li>
<p>非默认情况下，可以使用 sizeof 获取自定义结构体类型的大小</p>
<ul>
<li>
<p>需要在“项目——属性”里面开启“允许不安全代码”。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542071413076-c6f4f278-afd4-4794-a569-8466f63ed907.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li>
<p>把它放在不安全的上下文中 unsafe</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">sizeof</span>(<span class="hljs-built_in">int</span>);<br>        Console.WriteLine(x);  <span class="hljs-comment">// print 4</span><br>        <span class="hljs-comment">// long —— 8，ulong —— 8，double —— 8，decimal —— 16</span><br><br>        <span class="hljs-keyword">unsafe</span><br>        &#123;<br>            <span class="hljs-built_in">int</span> y = <span class="hljs-keyword">sizeof</span>(Student);<br>            Console.WriteLine(y);  <span class="hljs-comment">// print 16</span><br>            <span class="hljs-comment">// int 字节数为 4，long 字节数为 8。但 sizeof(Student) 结果是 16</span><br>            <span class="hljs-comment">// 涉及到 .NET 对内存的管理，超出当前所学 —— 结构体的内存对齐。</span><br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">struct</span> Student<br>&#123;<br>    <span class="hljs-built_in">int</span> ID;<br>    <span class="hljs-built_in">long</span> Score;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h4 id="操作符"><code>-&gt;</code> 操作符</h4>
<p>-&gt; 操作符也必须放在不安全的上下文中才能使用。<br>
C# 中指针操作、取地址操作、用指针访问成员的操作，只能用来操作结构体类型，不能用来操作引用类型。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">unsafe</span><br>        &#123;<br>            Student stu;<br>            stu.ID = <span class="hljs-number">1</span>;<br>            <span class="hljs-comment">// 用 . 直接访问</span><br>            stu.Score = <span class="hljs-number">99</span>;<br><br>            Student* pStu = &amp;stu;<br>            <span class="hljs-comment">// 用 -&gt; 间接访问</span><br>            pStu-&gt;Score = <span class="hljs-number">100</span>;<br><br>            Console.WriteLine(stu.Score);  <span class="hljs-comment">// print 100</span><br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">struct</span> Student<br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> ID;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">long</span> Score;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>==为什么上述代码不需要new实例化==</p>
<h3 id="一元操作符">一元操作符</h3>
<h4 id="x-x-操作符"><code>&amp;x</code> <code>*x</code> 操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// `&amp;x` `*x` 操作符 需要在不安全的上下文中。 现实工作中用得很少，当做知识了解一下即可</span><br><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">unsafe</span><br>        &#123;<br>            Student stu;<br>            stu.ID = <span class="hljs-number">1</span>;<br>            stu.Score = <span class="hljs-number">99</span>;<br><br>            <span class="hljs-comment">// &amp; 取地址</span><br>            Student* pStu = &amp;stu;  <span class="hljs-comment">// pStu为指针变量</span><br>            pStu-&gt;Score = <span class="hljs-number">100</span>;<br>            <span class="hljs-comment">// * 取引用</span><br>            (*pStu).Score = <span class="hljs-number">1000</span>;<br><br>            Console.WriteLine(stu.Score);  <span class="hljs-comment">// print 1000</span><br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">struct</span> Student<br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> ID;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">long</span> Score;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="正负操作符"><code>+</code> <code>-</code> 正负操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// 正负操作符使用不当，可能导致溢出。</span><br><span class="hljs-comment">// 如 int.MaxValue = 2147483647，int.MinValue = -2147483648</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">int x = int.MinValue;</span><br><span class="hljs-comment">int y = -x;</span><br><span class="hljs-comment">Console.WriteLine(x);  // print -2147483648</span><br><span class="hljs-comment">Console.WriteLine(y);  // print -2147483648</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">var</span> x = <span class="hljs-built_in">int</span>.MinValue;<br><span class="hljs-built_in">int</span> y = checked(-x);  <span class="hljs-comment">// print System.OverflowException......</span><br>Console.WriteLine(<span class="hljs-string">&quot;x = &quot;</span> + x);<br>Console.WriteLine(<span class="hljs-string">&quot;y = &quot;</span> + y);<br><br><span class="hljs-comment">// 原理解读</span><br><span class="hljs-built_in">string</span> xStr = Convert.ToString(x, <span class="hljs-number">2</span>).PadLeft(<span class="hljs-number">32</span>, <span class="hljs-string">&#x27;0&#x27;</span>);<br>Console.WriteLine(xStr);  <span class="hljs-comment">// print 10000000000000000000000000000000</span><br><br><span class="hljs-comment">// C# 求相反数是按位取反再加一，即011111...+1=100000...</span><br><span class="hljs-built_in">string</span> yStr = Convert.ToString(y, <span class="hljs-number">2</span>).PadLeft(<span class="hljs-number">32</span>, <span class="hljs-string">&#x27;0&#x27;</span>);<br>Console.WriteLine(yStr);  <span class="hljs-comment">// print 10000000000000000000000000000000</span><br></code></pre></td></tr></table></figure>
<h4 id="求反操作符"><code>~</code> 求反操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">int</span> x = <span class="hljs-number">12345678</span>;<br>Console.WriteLine(x);  <span class="hljs-comment">// print 12345678</span><br><span class="hljs-built_in">int</span> y = ~x;<br>Console.WriteLine(y);  <span class="hljs-comment">// print -12345679</span><br><span class="hljs-built_in">int</span> z = y + <span class="hljs-number">1</span>;<br>Console.WriteLine(z);  <span class="hljs-comment">// print -12345678</span><br><span class="hljs-comment">// PadLeft看字符串长度是否满足32位,不满足则在字符串左边以&quot;0&quot;补足</span><br>String xStr = Convert.ToString(x, <span class="hljs-number">2</span>).PadLeft(<span class="hljs-number">32</span>, <span class="hljs-string">&#x27;0&#x27;</span>);<br>String yStr = Convert.ToString(y, <span class="hljs-number">2</span>).PadLeft(<span class="hljs-number">32</span>, <span class="hljs-string">&#x27;0&#x27;</span>);<br>Console.WriteLine(xStr);  <span class="hljs-comment">// print 00000000101111000110000101001110</span><br>Console.WriteLine(yStr);  <span class="hljs-comment">// print 11111111010000111001111010110001 即按位取反，再加一才为相反数</span><br></code></pre></td></tr></table></figure>
<h4 id="非操作符"><code>!</code> 非操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// 实例</span><br><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        Student stu = <span class="hljs-keyword">new</span> Student(<span class="hljs-literal">null</span>);<br>        Console.WriteLine(stu.Name);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Student</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> initName</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">string</span>.IsNullOrEmpty(initName))<br>        &#123;<br>            <span class="hljs-keyword">this</span>.Name = initName;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentException(<span class="hljs-string">&quot;initName cannot be null or empty.&quot;</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="x-x-前置自增自减操作符"><code>++x</code> <code>--x</code> 前置自增自减操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>&#123;<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-number">100</span>;<br>    ++x;<br>    Console.WriteLine(x);  <span class="hljs-comment">// 101	--x对应99</span><br>    <span class="hljs-comment">// 单独使用时，前置与后置没有区别</span><br><br>    <span class="hljs-comment">// 先自增再赋值</span><br>    <span class="hljs-keyword">var</span> y = ++x;<br>    Console.WriteLine(x);  <span class="hljs-comment">// print 101 </span><br>    Console.WriteLine(y);  <span class="hljs-comment">// print 101</span><br>    <span class="hljs-comment">// y=x++对应x=101,y=100</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p>无论前置、后置，在实际工作中，尽量单独使用它们，不要把它们和别的语句混在一起，那样会降低可读性。</p>
<h4 id="T-x-强制类型转换操作符"><code>(T)x</code> 强制类型转换操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">string</span> str1 = Console.ReadLine();  <span class="hljs-comment">// scan 12</span><br><span class="hljs-built_in">string</span> str2 = Console.ReadLine();  <span class="hljs-comment">// scan 34</span><br><span class="hljs-built_in">int</span> x = Convert.ToInt32(str1);<br><span class="hljs-built_in">int</span> y = Convert.ToInt32(str2);<br>Console.WriteLine(x + y);  <span class="hljs-comment">// print 46</span><br></code></pre></td></tr></table></figure>
<p>详见<a href="#类型转换">类型转换</a></p>
<h4 id="await操作符"><code>await</code>操作符</h4>
<p>用于异步操作</p>
<h3 id="算术运算符">算术运算符</h3>
<p>参见《C# 定义文档》7.8 算术运算符。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// 数值提升</span><br><span class="hljs-keyword">var</span> x = <span class="hljs-number">3.0</span> * <span class="hljs-number">4</span>;  <span class="hljs-comment">// 自动类型提升为 double</span><br>Console.WriteLine(x.GetType().FullName);  <span class="hljs-comment">// print System.Double</span><br>Console.WriteLine(x);  <span class="hljs-comment">// print 12</span><br></code></pre></td></tr></table></figure>
<h4 id="除法"><code>/</code>除法</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// 整数除法</span><br><span class="hljs-built_in">int</span> x = <span class="hljs-number">5</span>;<br><span class="hljs-built_in">int</span> y = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">int</span> z = x / y;<br>Console.WriteLine(z);  <span class="hljs-comment">// 未经处理的异常:  System.DivideByZeroException: 尝试除以零。</span><br></code></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// 小数除法</span><br><span class="hljs-built_in">double</span> x = (<span class="hljs-built_in">double</span>)<span class="hljs-number">5</span> / <span class="hljs-number">4</span>;  <span class="hljs-comment">// 5.0/4 ——浮点除法</span><br><span class="hljs-built_in">double</span> x_ = (<span class="hljs-built_in">double</span>)(<span class="hljs-number">5</span> / <span class="hljs-number">4</span>);  <span class="hljs-comment">// 5/4 ——整数除法，结果转换为浮点型</span><br><span class="hljs-built_in">double</span> y = (<span class="hljs-built_in">double</span>)<span class="hljs-number">5</span> / <span class="hljs-number">0</span>;<br><span class="hljs-built_in">double</span> z = (<span class="hljs-built_in">double</span>)<span class="hljs-number">-5</span> / <span class="hljs-number">0</span>;<br>Console.WriteLine(x);  <span class="hljs-comment">// print 1.25</span><br>Console.WriteLine(x_);  <span class="hljs-comment">// print 1</span><br>Console.WriteLine(y);  <span class="hljs-comment">// print ∞</span><br>Console.WriteLine(z);  <span class="hljs-comment">// print -∞</span><br><br><span class="hljs-built_in">double</span> a = <span class="hljs-built_in">double</span>.PositiveInfinity;  <span class="hljs-comment">// ∞</span><br><span class="hljs-built_in">double</span> b = <span class="hljs-built_in">double</span>.NegativeInfinity;  <span class="hljs-comment">// -∞</span><br>Console.WriteLine(a / b);  <span class="hljs-comment">// print NaN</span><br></code></pre></td></tr></table></figure>
<h4 id="取余"><code>%</code> 取余</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// 也存在类型提升</span><br><span class="hljs-built_in">double</span> x = <span class="hljs-number">3.5</span>;<br><span class="hljs-built_in">double</span> y = <span class="hljs-number">3</span>;<br>Console.WriteLine(x % y);  <span class="hljs-comment">// print 0.5</span><br></code></pre></td></tr></table></figure>
<h4 id="加法"><code>+</code>加法</h4>
<p>三大用途</p>
<ul>
<li>计算加法（存在类型提升）</li>
<li>==事件绑定（操作委托）==</li>
<li>字符串拼接</li>
</ul>
<h4 id="减法"><code>-</code>减法</h4>
<p>注意：<code>+∞</code>-<code>+∞</code>= NaN</p>
<h3 id="位移操作符">位移操作符</h3>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// 没有溢出时，左移就是乘 2 ，右移就是除 2 。</span><br><span class="hljs-built_in">int</span> x = <span class="hljs-number">-7</span>;<br><span class="hljs-comment">// 左移低位补0；右移时最高位正数补 0 ，负数补 1 。</span><br><span class="hljs-built_in">int</span> y = x &lt;&lt; <span class="hljs-number">1</span>;<br><span class="hljs-built_in">int</span> z = x &gt;&gt; <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> strX = Convert.ToString(x, <span class="hljs-number">2</span>).PadLeft(<span class="hljs-number">32</span>, <span class="hljs-string">&#x27;0&#x27;</span>);<br><span class="hljs-keyword">var</span> strY = Convert.ToString(y, <span class="hljs-number">2</span>).PadLeft(<span class="hljs-number">32</span>, <span class="hljs-string">&#x27;0&#x27;</span>);<br><span class="hljs-keyword">var</span> strY = Convert.ToString(z, <span class="hljs-number">2</span>).PadLeft(<span class="hljs-number">32</span>, <span class="hljs-string">&#x27;0&#x27;</span>);<br>Console.WriteLine(strX);  <span class="hljs-comment">// print 11111111111111111111111111111001</span><br>Console.WriteLine(strY);  <span class="hljs-comment">// print 11111111111111111111111111110010</span><br>Console.WriteLine(strZ);  <span class="hljs-comment">// print 11111111111111111111111111111100</span><br>Console.WriteLine(y);  <span class="hljs-comment">// print -14</span><br>Console.WriteLine(z);  <span class="hljs-comment">// print -4</span><br><span class="hljs-comment">// 放在unchecked中可以一直移，直到为0；放在checked中移位发生溢出（1移出）会抛出异常</span><br></code></pre></td></tr></table></figure>
<h3 id="关系操作符">关系操作符</h3>
<p>运算结果均为bool类型</p>
<ol>
<li>
<p>数值类型比较，包括整型、浮点型</p>
</li>
<li>
<p>char 类型比较 Unicode 码。</p>
</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">char</span> char1 = <span class="hljs-string">&#x27;a&#x27;</span>;<br><span class="hljs-built_in">char</span> char2 = <span class="hljs-string">&#x27;A&#x27;</span>;<br>Console.WriteLine(char1 &gt; char2);  <span class="hljs-comment">// print True</span><br><span class="hljs-keyword">var</span> u1 = (<span class="hljs-built_in">ushort</span>)char1;<br><span class="hljs-keyword">var</span> u2 = (<span class="hljs-built_in">ushort</span>)char2;<br>Console.WriteLine(u1);  <span class="hljs-comment">// print 97</span><br>Console.WriteLine(u2);  <span class="hljs-comment">// print 65</span><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>字符串比较，仅能比较是否相等，无法比较大小</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">string</span> str1 = <span class="hljs-string">&quot;abc&quot;</span>;<br><span class="hljs-built_in">string</span> str2 = <span class="hljs-string">&quot;Abc&quot;</span>;<br>Console.WriteLine(str1.ToLower() == str2.ToLower());<br><span class="hljs-built_in">string</span>.Compare(str1, str2);  <span class="hljs-comment">// print True</span><br></code></pre></td></tr></table></figure>
<h3 id="类型检测操作符">类型检测操作符</h3>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542071954748-380ed79a-47b5-4bc1-887c-0a89ef65cbad.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="is-操作符"><code>is</code> 操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs csharp">Teacher t = <span class="hljs-keyword">new</span> Teacher();<br><span class="hljs-comment">// 检测 t 所引用的实例是否为 Teacher,而不是变量是否是</span><br><span class="hljs-keyword">var</span> result = t <span class="hljs-keyword">is</span> Teacher;<br><br>Console.WriteLine(result.GetType().FullName);  <span class="hljs-comment">// print System.Boolean</span><br>Console.WriteLine(result);  <span class="hljs-comment">// print True</span><br>Console.WriteLine(t <span class="hljs-keyword">is</span> Animal);  <span class="hljs-comment">// print True</span><br><br>Car car = <span class="hljs-keyword">new</span> Car();<br>Console.WriteLine(car <span class="hljs-keyword">is</span> Animal);  <span class="hljs-comment">// print False</span><br>Console.WriteLine(car <span class="hljs-keyword">is</span> <span class="hljs-built_in">object</span>);  <span class="hljs-comment">// print True</span><br><br>Human h = <span class="hljs-keyword">new</span> Human();<br>Console.WriteLine(h <span class="hljs-keyword">is</span> Teacher);  <span class="hljs-comment">// print False</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Car</span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Run</span>()</span>&#123;<br>        Console.WriteLine(<span class="hljs-string">&quot;Running...&quot;</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="as-操作符"><code>as</code> 操作符</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">object</span> o = <span class="hljs-keyword">new</span> Teacher();<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">if(o is Teacher)</span><br><span class="hljs-comment">&#123;</span><br><span class="hljs-comment">    var t = (Teacher)o;</span><br><span class="hljs-comment">    t.Teach();  // print I teach programmming</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">*/</span><br>Teacher t = o <span class="hljs-keyword">as</span> Teacher;  <span class="hljs-comment">// as代替is，如果o像Teacher，就把o的地址交给变量t，否则交null</span><br><span class="hljs-keyword">if</span> (t != <span class="hljs-literal">null</span>)<br>&#123;<br>    t.Teach();  <span class="hljs-comment">// print I teach programmming</span><br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="逻辑与-或-异或">逻辑与 <code>&amp;</code> 或 <code>|</code> 异或 <code>^</code></h3>
<p>一般在操作二进制数据，图像数据时用。按位与、或、非。</p>
<h3 id="条件与-条件或">条件与 <code>&amp;&amp;</code> 条件或 <code>||</code></h3>
<p>条件与和条件或有<strong>短路效应</strong>，应尽量避开。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">int</span> x = <span class="hljs-number">3</span>;<br><span class="hljs-built_in">int</span> y = <span class="hljs-number">4</span>;<br><span class="hljs-built_in">int</span> a = <span class="hljs-number">3</span>;<br><span class="hljs-comment">// if (x &gt; y || ++a &gt; 3)  // x&gt;y条件不符合，右侧表达式执行，a自增后&gt;3,此时Hello打印，a=4</span><br><span class="hljs-comment">// if (y &gt; x || a++ &gt; 3)  // y&gt;x条件已经符合，短路效应，右侧表达式不再执行，此时Hello打印，a=3</span><br><span class="hljs-keyword">if</span> (x &gt; y &amp;&amp; a++ &gt; <span class="hljs-number">3</span>)  <span class="hljs-comment">// x&gt;y条件已不符合，短路效应，右侧表达式不再执行，此时Hello不打印，a=3</span><br>&#123;<br>    Console.WriteLine(<span class="hljs-string">&quot;Hello&quot;</span>);<br>&#125;<br>Console.WriteLine(a);<br></code></pre></td></tr></table></figure>
<h3 id="null-合并操作符"><code>??</code> null 合并操作符</h3>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">//Nullable&lt;int&gt; x = null;  // 可空int类型</span><br><span class="hljs-built_in">int</span>? x = <span class="hljs-literal">null</span>;  <span class="hljs-comment">// 常用，简化</span><br>x=<span class="hljs-number">100</span>;<br>Console.WriteLine(x);  <span class="hljs-comment">// print 100</span><br>Console.WriteLine(x.HasValue);  <span class="hljs-comment">// print True</span><br><br><span class="hljs-built_in">int</span> y = x ?? <span class="hljs-number">1</span>;  <span class="hljs-comment">// x 如果为 null，就拿 1 来代替</span><br>Console.WriteLine(y);  <span class="hljs-comment">// print 1</span><br></code></pre></td></tr></table></figure>
<h3 id="条件操作符"><code>?:</code> 条件操作符</h3>
<p>唯一一个三元操作符，本质上就是 if else 的简写。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">int</span> x = <span class="hljs-number">80</span>;<br><span class="hljs-comment">// 使用 () 将条件括起来，提高可读性。</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">string str = string.Empty;</span><br><span class="hljs-comment">if (x &gt; 60)</span><br><span class="hljs-comment">&#123;</span><br><span class="hljs-comment">    str = &quot;Pass&quot;;</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">else</span><br><span class="hljs-comment">&#123;</span><br><span class="hljs-comment">    str = &quot;Failed&quot;;</span><br><span class="hljs-comment">&#125;*/</span><br><span class="hljs-built_in">string</span> str = (x &gt;= <span class="hljs-number">60</span>) ? <span class="hljs-string">&quot;Pass&quot;</span> : <span class="hljs-string">&quot;Failed&quot;</span>;<br>Console.WriteLine(str);  <span class="hljs-comment">// print Pass</span><br></code></pre></td></tr></table></figure>
<h3 id="赋值和-Lambda-表达式">赋值和 Lambda 表达式</h3>
<p>赋值操作符，运算顺序从右至左</p>
<p>Lambda 在前面<a herf="#`delegate` 操作符">delegate 操作符</a> 那里讲过。</p>
<h2 id="类型转换">类型转换</h2>
<ul>
<li>
<p>隐式（implicit）类型转换</p>
<ul>
<li>不丢失精度的转换</li>
<li>子类向父类的转换</li>
<li>装箱</li>
</ul>
</li>
<li>
<p>显式（explicit）类型转换</p>
<ul>
<li>有可能丢失精度（甚至发生错误）的转换，即 cast</li>
<li>拆箱</li>
<li>使用 Convert 类</li>
<li>ToString 方法与各数据类型的 Parse/TryParse 方法</li>
</ul>
</li>
<li>
<p>自定义类型转换操作符</p>
<ul>
<li>示例</li>
</ul>
</li>
</ul>
<p><a href="#装箱与拆箱（Boxing & Unboxing )">装箱与拆箱</a>之前讲过，这里不在细讲，只列出来。</p>
<h3 id="隐式（implicit）类型转换">隐式（implicit）类型转换</h3>
<h4 id="不丢失精度的转换">不丢失精度的转换</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// 例</span><br><span class="hljs-built_in">int</span> x = <span class="hljs-built_in">int</span>.MaxValue;<br><span class="hljs-built_in">long</span> y = x;<br>Console.WriteLine(y);  <span class="hljs-comment">// print 2147483647</span><br></code></pre></td></tr></table></figure>
<p>《C# 定义文档》6.1.2 隐式数值转换<br>
隐式数值转换为：</p>
<ul>
<li>
<p>从 sbyte 到 short、int、long、float、double 或 decimal。</p>
</li>
<li>
<p>从 byte 到 short、ushort、int、uint、long、ulong、float、double 或 decimal。</p>
</li>
<li>
<p>从 short 到 int、long、float、double 或 decimal。</p>
</li>
<li>
<p>从 ushort 到 int、uint、long、ulong、float、double 或 decimal。</p>
</li>
<li>
<p>从 int 到 long、float、double 或 decimal。</p>
</li>
<li>
<p>从 uint 到 long、ulong、float、double 或 decimal。</p>
</li>
<li>
<p>从 long 到 float、double 或 decimal。</p>
</li>
<li>
<p>从 ulong 到 float、double 或 decimal。</p>
</li>
<li>
<p>从 char 到 ushort、int、uint、long、ulong、float、double 或 decimal。</p>
</li>
<li>
<p>从 float 到 double。</p>
</li>
</ul>
<p>从 int、uint、long 或 ulong 到 float 的转换以及从 long 或 ulong 到 double 的转换可能导致精度损失，但决不会影响数值大小。其他的隐式数值转换决不会丢失任何信息。<br>
不存在向 char 类型的隐式转换，因此其他整型的值不会自动转换为 char 类型。</p>
<h4 id="子类向父类的转换">子类向父类的转换</h4>
<p>所有真正面向对象的语言都支持子类向父类转换。后面会讲到面向对象编程的一个核心概念 —— “多态”（polymorphism），多态就基于面向对象语言支持子类向父类的隐式转换。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// csharp 规定，当用引用变量访问它所引用者的实例的成员时，只能访问到变量的类型所具有的成员</span><br><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        Teacher t = <span class="hljs-keyword">new</span> Teacher();<br>        Human h = t;<br>        <span class="hljs-comment">// 当 t 转换为 h 后，在 h 里面就只能访问到 Human 类能访问的成员，不能再访问 Teach 方法。</span><br>        h.think();  <span class="hljs-comment">// print Who i am?</span><br>        h.eat();  <span class="hljs-comment">// print Eating...</span><br>        Animal a = h;<br>        a.Eat();  <span class="hljs-comment">// print Eating...</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Eat</span>()</span><br>    &#123;<br>        Console.WriteLine(<span class="hljs-string">&quot;Eating...&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Human</span> : <span class="hljs-title">Animal</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Think</span>()</span><br>    &#123;<br>        Console.WriteLine(<span class="hljs-string">&quot;Who i am?&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Teacher</span> : <span class="hljs-title">Human</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Teach</span>()</span><br>    &#123;<br>        Console.WriteLine(<span class="hljs-string">&quot;I teach programmming&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="显式（explicit）类型转换">显式（explicit）类型转换</h3>
<h4 id="有可能丢失精度（甚至发生错误）的转换，即-cast">有可能丢失精度（甚至发生错误）的转换，即 cast</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// 例：ushort 转 uint</span><br>Console.WriteLine(<span class="hljs-built_in">ushort</span>.MaxValue);  <span class="hljs-comment">// print 65535</span><br><span class="hljs-built_in">uint</span> x = <span class="hljs-number">65536</span>;<br><span class="hljs-built_in">ushort</span> y = (<span class="hljs-built_in">ushort</span>)x;<br>Console.WriteLine(y);  <span class="hljs-comment">// print 0</span><br></code></pre></td></tr></table></figure>
<p>《C# 定义文档》6.2.1 显式数值转换<br>
显式数值转换是指从一个 numeric-type 到另一个 numeric-type 的转换，此转换不能用已知的隐式数值转换（第 6.1.2 节）实现，它包括：</p>
<ul>
<li>
<p>从 sbyte 到 byte、ushort、uint、ulong 或 char。</p>
</li>
<li>
<p>从 byte 到 sbyte 和 char。</p>
</li>
<li>
<p>从 short 到 sbyte、byte、ushort、uint、ulong 或 char。</p>
</li>
<li>
<p>从 ushort 到 sbyte、byte、short 或 char。</p>
</li>
<li>
<p>从 int 到 sbyte、byte、short、ushort、uint、ulong 或 char。</p>
</li>
<li>
<p>从 uint 到 sbyte、byte、short、ushort、int 或 char。</p>
</li>
<li>
<p>从 long 到 sbyte、byte、short、ushort、int、uint、ulong 或 char。</p>
</li>
<li>
<p>从 ulong 到 sbyte、byte、short、ushort、int、uint、long 或 char。</p>
</li>
<li>
<p>从 char 到 sbyte、byte 或 short。</p>
</li>
<li>
<p>从 float 到 sbyte、byte、short、ushort、int、uint、long、ulong、char 或 decimal。</p>
</li>
<li>
<p>从 double 到 sbyte、byte、short、ushort、int、uint、long、ulong、char、float 或 decimal。</p>
</li>
<li>
<p>从 decimal 到 sbyte、byte、short、ushort、int、uint、long、ulong、char、float 或 double。</p>
</li>
</ul>
<p>显示类型转换还要特别注意有符号类型数据与无符号类型数据间的转换。有符号类型的最高位为符号位，如果其为负数（最高位为 1 ），将其转为无符号类型时必需注意。</p>
<h4 id="使用-Convert-类">使用 Convert 类</h4>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/image-20230108184746485.png" srcset="/img/loading.gif" lazyload alt="image-20230108184746485"></p>
<h4 id="ToString-方法与各数据类型的-Parse-TryParse-方法">ToString 方法与各数据类型的 Parse/TryParse 方法</h4>
<h5 id="ToString-示例">ToString 示例</h5>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs html">// WPF 应用(.NET Framework)<br><span class="hljs-tag">&lt;<span class="hljs-name">Grid</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">Grid.RowDefinitions</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">&quot; Auto&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">&quot; 4&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">&quot; Auto&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">&quot; 4&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">&quot; Auto&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">&quot; 4&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">Grid.RowDefinitions</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">x:Name</span>=<span class="hljs-string">&quot;tb1&quot;</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">&quot;0&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">x:Name</span>=<span class="hljs-string">&quot;tb2&quot;</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">&quot;2&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">x:Name</span>=<span class="hljs-string">&quot;tb3&quot;</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">&quot;4&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">x:Name</span>=<span class="hljs-string">&quot;btn&quot;</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">&quot;6&quot;</span> <span class="hljs-attr">Click</span>=<span class="hljs-string">&quot;btn_Click&quot;</span> <span class="hljs-attr">Content</span>=<span class="hljs-string">&quot;Add&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">Grid</span>&gt;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">btn_Click</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, RoutedEventArgs e</span>)</span><br>&#123;<br>    <span class="hljs-built_in">double</span> x = Convert.ToDouble(tb1.Text);  <span class="hljs-comment">// scan 12</span><br>    <span class="hljs-built_in">double</span> y = Convert.ToDouble(tb2.Text);  <span class="hljs-comment">// scan 12</span><br>    <span class="hljs-built_in">double</span> result = x + y;<br>    <span class="hljs-comment">// this.tb3.Text = Convert.ToString(result);  //print 24  ——法一</span><br>    <span class="hljs-keyword">this</span>.tb3.Text=result.ToString();  <span class="hljs-comment">// print 24  ——法二</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p>C# 的所有数据类型都源自于 Object 类，而 Object 类就有 ToString 方法，即 C# 中所有类型都有 ToString 方法。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542072443274-8013b43f-37d6-44d4-a7c1-1f41b49974ab.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h5 id="Parse-TryParse-方法">Parse/TryParse 方法</h5>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// Parse 只能解析格式正确的字符串数据类型。例：输入1ab,12会抛出异常</span><br><span class="hljs-built_in">double</span> x = <span class="hljs-built_in">double</span>.Parse(<span class="hljs-keyword">this</span>.tb1.Text);<br><span class="hljs-built_in">double</span> x = <span class="hljs-built_in">double</span>.Parse(<span class="hljs-keyword">this</span>.tb1.Text);<br><span class="hljs-built_in">double</span> result = x + y;<br><span class="hljs-keyword">this</span>.tb3.Text=result.ToString();  <span class="hljs-comment">// print 24  ——法二</span><br></code></pre></td></tr></table></figure>
<p>==TryParse 通过输出变量（out）来传值。==</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">double</span> x;<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">double</span>.TryParse(tb1.Text,<span class="hljs-keyword">out</span> x))<br>&#123;<br>    <span class="hljs-built_in">double</span> y = Convert.ToDouble(tb2.Text);<br><br>    <span class="hljs-built_in">double</span> result = x + y;<br><br>    tb3.Text = result.ToString();<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="自定义类型转换操作符">自定义类型转换操作符</h3>
<p>更加详细的内容参见 C# 图解教程 第十六章 转换。</p>
<p>==示例：让石头类支持显式转换为猴子。==</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> stone = <span class="hljs-keyword">new</span> Stone();<br>        stone.Age = <span class="hljs-number">5000</span>;<br><br>        <span class="hljs-keyword">var</span> wukongSun = (Monkey)stone;  <span class="hljs-comment">// 隐式去掉 (Monkey)</span><br>        Console.WriteLine(wukongSun.Age);  <span class="hljs-comment">// print 10</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Stone</span><br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Age;<br><br>    <span class="hljs-comment">// 转换器写在被转换类型里面</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">explicit</span> <span class="hljs-keyword">operator</span> <span class="hljs-title">Monkey</span>(<span class="hljs-params">Stone stone</span>)  <span class="hljs-comment">// 隐式改为 implicit</span></span><br>    &#123;<br>        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">new</span> Monkey()<br>        &#123;<br>            Age = stone.Age / <span class="hljs-number">500</span><br>        &#125;;<br>        <span class="hljs-keyword">return</span> m;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Monkey</span><br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Age;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="参考">参考</h2>
<p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/dotnet/csharp/tour-of-csharp/expressions">Docs Expressions</a></p>
<h1>013,014,015,016 表达式、语句详解</h1>
<h2 id="表达式的定义">表达式的定义</h2>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542073358985-e039dd41-8383-4411-b6da-63d063ed7a2f.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>什么是表达式：An expressions is a syntactic entity whose evaluation either <code>produces a value</code> or <code>fails to terminate</code>, in which case the expression is undefined.</p>
<h3 id="evaluate-a-single-value-object-method-or-namespace">evaluate a single value, object, method, or namespace</h3>
<p>Single Value</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">int</span> x = <span class="hljs-number">100</span>;<br>x++;<br>++x;<br></code></pre></td></tr></table></figure>
<p>Object</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp">(<span class="hljs-keyword">new</span> Form()).ShowDialog();<br></code></pre></td></tr></table></figure>
<p>Method</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// Console.WriteLine 就是方法</span><br>Action myActino = <span class="hljs-keyword">new</span> Action(Console.WriteLine);<br></code></pre></td></tr></table></figure>
<p>Namespace</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// System.Windows.Forms 名称空间访问表达式</span><br>System.Windows.Forms.Form myForm = <span class="hljs-keyword">new</span> Form();<br></code></pre></td></tr></table></figure>
<h2 id="各类表达式概览">各类表达式概览</h2>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542073732324-a0dd50ff-5333-40a0-9546-afbac3fd5fa2.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h3 id="C-语言中表达式的分类">C# 语言中表达式的分类</h3>
<ul>
<li>A value. Every value has an associated type.<br>
回顾上一节讲的操作符，并讲解由这些操作符组成的表达式所返回的类型。 <img src="C:/Users/admin/Desktop/c%23%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542073755115-b0e27224-7122-4e28-ad9d-aa27a16db4e1.png" srcset="/img/loading.gif" lazyload alt="img"></li>
<li>条件操作符<code>?:</code>总会返回精度高的那个类型：</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">var</span> x = <span class="hljs-number">5</span>&gt;<span class="hljs-number">3</span>?<span class="hljs-number">2</span>:<span class="hljs-number">3.0</span>;<br>Console.WriteLine(x.GetType().FullName);<br><span class="hljs-comment">// System.Double</span><br></code></pre></td></tr></table></figure>
<ul>
<li>A variable. Every variable has an associated type.</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">int</span> x = <span class="hljs-number">100</span>;<br><span class="hljs-built_in">int</span> y;<br>y = x;<br></code></pre></td></tr></table></figure>
<ul>
<li>A namespace.</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp">System.Windows.Forms.Form myForm = <span class="hljs-keyword">new</span> Form();<br></code></pre></td></tr></table></figure>
<ul>
<li>A type.</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">var</span> t = <span class="hljs-keyword">typeof</span>(Int32);<br></code></pre></td></tr></table></figure>
<ul>
<li>
<p>A method group<br>
<code>Console.WriteLine</code>，这是一组方法（19 种重载），重载决策决定具体调用那种方法。</p>
</li>
<li>
<p>A null literal.<br>
null 值也是一个值。</p>
</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp">Form myForm = <span class="hljs-literal">null</span>;<br></code></pre></td></tr></table></figure>
<ul>
<li>
<p>A property access.</p>
</li>
<li>
<p>An event access.</p>
</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>&#123;<br>    <span class="hljs-keyword">var</span> myForm = <span class="hljs-keyword">new</span> Form();<br>    <span class="hljs-comment">// 访问属性</span><br>    myForm.Text = <span class="hljs-string">&quot;Hello&quot;</span>;<br>    <span class="hljs-comment">// 访问事件</span><br>    myForm.Load += MyForm_Load;<br>    myForm.ShowDialog();<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">MyForm_Load</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, EventArgs e</span>)</span><br>&#123;<br>    <span class="hljs-keyword">var</span> form = sender <span class="hljs-keyword">as</span> Form;<br>    <span class="hljs-keyword">if</span> (form == <span class="hljs-literal">null</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    form.Text = <span class="hljs-string">&quot;New Title&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<ul>
<li>An indexer access.</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">var</span> intList = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">int</span>&gt;() &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> &#125;;<br><span class="hljs-keyword">var</span> x = intList[<span class="hljs-number">2</span>];<br></code></pre></td></tr></table></figure>
<ul>
<li>Nothing.对返回值为 void 方法的调用<img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542073932915-a3e3183e-daa5-4809-b257-023b0fd3c361.png" srcset="/img/loading.gif" lazyload alt="img"></li>
</ul>
<h3 id="复合表达式的求值">复合表达式的求值</h3>
<p>C#语言定义文档里面未明确定义复合表达式，但确实常用。<br>
注意操作符的优先级和同优先级操作符的运算方向（除了赋值操作符，基本都是从左向右）。</p>
<h3 id="参考C-语言定义文档">参考C#语言定义文档</h3>
<p>第七章专门讲表达式。<br>
对于初学者，仅作参考，不必深究 —— 毕竟我们是在学习语言、不是去实现这门语言。</p>
<h2 id="语句的定义">语句的定义</h2>
<p>广义：</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542073988044-18fa172d-67df-46fb-8491-e456765874d3.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>狭义：</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074021692-ef5bb4f3-e20e-4b18-9e01-70e5dcea3172.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h3 id="实例讲解高级语言与低级语言的差异">实例讲解高级语言与低级语言的差异</h3>
<h4 id="C-版本">C 版本</h4>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074059409-01f01ee0-6f35-4d2d-b21f-25ab2fe32c58.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074067087-647f7028-e3e3-445e-9e5c-f11430bc75b3.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074076921-0e06c592-7b5a-4fd1-86d7-5a8cfe7c75f4.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="C-版本-v2">C# 版本</h4>
<p>C# 看汇编输出</p>
<ol>
<li>
<p>找到编译的 Application<img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074120324-48379e29-07e6-4536-bd9c-c8577acdc817.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li>
<p>在电脑里面搜索找到 Developer Command Prompt<img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074134249-4681c4a7-8547-47b0-8e9d-5379d949ee7d.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li>
<p>输入 ildasm 命令<img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074150290-521061c4-7044-4161-b92a-f42bab624cc8.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li>
<p>用 ildasm 工具打开第 1 步找到的 Application<img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074164208-52cda7f8-6338-4d61-9f9c-cddac7804365.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li>
<p>双击具体方法，查看编译结果<img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/542074179651-69139f4e-f492-470f-9696-5230f328af67.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
</ol>
<p>PS：推荐使用 JetBrains 家的 <a target="_blank" rel="noopener" href="https://www.jetbrains.com/zh-cn/decompiler/">dotPeek</a> 进行反编译。</p>
<h3 id="实例演示控制流（flow-of-control）">实例演示控制流（flow of control）</h3>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>&#123;<br>    <span class="hljs-built_in">string</span> input = Console.ReadLine();<br>    <span class="hljs-keyword">try</span><br>    &#123;<br>        <span class="hljs-built_in">double</span> score = <span class="hljs-built_in">double</span>.Parse(input);<br>        <span class="hljs-keyword">if</span> (score &gt;= <span class="hljs-number">60</span>)<br>        &#123;<br>            Console.WriteLine(<span class="hljs-string">&quot;Pass!&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            Console.WriteLine(<span class="hljs-string">&quot;Failed!&quot;</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">catch</span> <br>    &#123;<br>        Console.WriteLine(<span class="hljs-string">&quot;Not a number!&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074243241-65381f40-73ac-45b7-a440-40b1f3389d65.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>程序没变，控制流变了。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074260905-c376dc03-371a-4b63-8f60-cba24c241216.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h2 id="语句详解">语句详解</h2>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074277842-86f5a520-ec7b-4133-80bd-2ad265fad70e.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>嵌入式语句</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074289947-dc31dac6-ef8a-42e7-82b8-53987e58c90e.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h3 id="声明语句">声明语句</h3>
<p>讲解了局部变量声明与局部常量声明，详情参见 C#语言定义文档。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074306519-dc5660bf-7505-4930-9848-d65db93f0f0a.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h3 id="表达式语句">表达式语句</h3>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074330698-8977a412-9560-42c3-beb8-fd85474a2d3b.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>expression-statement 用于计算所给定的表达式。由此表达式计算出来的值（如果有）被丢弃。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>&#123;<br>    <span class="hljs-comment">// Add 产生的 7.0，如果前面没有拿变量接收它，值被丢弃了。</span><br>    Add(<span class="hljs-number">3.0</span>, <span class="hljs-number">4.0</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-built_in">double</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-built_in">double</span> a,<span class="hljs-built_in">double</span> b</span>)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> a + b;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>Single Responsibility</strong> 单一职责原则：一个方法尽量只做一件事情。</p>
<p>下面 <code>x+y</code> 这种语句在 C 语言里面是允许的，在 C# 里面不允许。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">int</span> x = <span class="hljs-number">100</span>;<br><span class="hljs-built_in">int</span> y = <span class="hljs-number">200</span>;<br>x+y;<br></code></pre></td></tr></table></figure>
<h3 id="块语句">块语句</h3>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074444248-661f1226-4b07-41fc-bc1f-687213555ac7.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<ul>
<li>
<p>块语句无论什么时候都被编译器当做一条语句来看待</p>
</li>
<li>
<p>编译器认为块语句是一条完整的语句（即块语句最后不用加<code>;</code>号）</p>
</li>
</ul>
<p><strong>Code Snippet</strong><br>
Ctrl + }：跳转至该花括号对应的花括号处。</p>
<p>变量的作用域：块之内声明的变量，作用域仅在块内。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>&#123;<br>    <span class="hljs-built_in">int</span> x = <span class="hljs-number">100</span>;<br>    &#123;<br>        Console.WriteLine(x);<br>        <span class="hljs-built_in">int</span> y = <span class="hljs-number">200</span>;<br>        Console.WriteLine(y);<br>    &#125;<br><br>    <span class="hljs-comment">// Error CS0103  当前上下文中不存在名称“y”</span><br>    Console.WriteLine(y);<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="选择（判断、分支）语句">选择（判断、分支）语句</h3>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074500227-098e5cdc-eaad-4d10-98fa-d0e4b97b3916.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="if-语句">if 语句</h4>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074514803-0cf8bca8-eafb-498f-bfbb-a226cc3a7006.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>编程规范推荐即使只有一条语句，也建议使用块语句。</p>
<p><strong>Code Snippet</strong></p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074542530-663130ab-a7d4-416f-9b84-7ed9fafdfc51.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>程序员经常修缮前人代码以满足新需求，但因为需求变化（需要实现新逻辑） + 业务逻辑复杂（不敢修改旧代码），导致写出来的代码很臃肿，还很容易陷入思维定式。</p>
<p>无论多长的 <code>if else</code>，它都是一条语句。之所以能有 <code>else if&#123;&#125;</code> 这种结构，也是因为 <code>if&#123;&#125;</code> 是一条语句。</p>
<h4 id="switch-语句">switch 语句</h4>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1624929037735-72b62b95-5ae7-4aa7-944b-bc77c03db7d6.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>注：从 C# 7.0 开始 switch 表达式已<a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/dotnet/csharp/language-reference/keywords/switch#the-match-expression">支持任何非 null 表达式</a>。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-built_in">int</span> score = <span class="hljs-number">101</span>;<br><span class="hljs-keyword">switch</span> (score/<span class="hljs-number">10</span>)<br>&#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<br>        <span class="hljs-keyword">if</span> (score==<span class="hljs-number">100</span>)<br>        &#123;<br>            <span class="hljs-keyword">goto</span> <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">goto</span> <span class="hljs-literal">default</span>;<br>        &#125;<br>    <span class="hljs-comment">// 只有单独的标签才能连起来写。</span><br>    <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>    <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>        <span class="hljs-comment">// 一旦有了具体的 section，就必需配套 break。</span><br>        Console.WriteLine(<span class="hljs-string">&quot;A&quot;</span>);<br>        <span class="hljs-keyword">break</span>;<br>        ...<br>    <span class="hljs-literal">default</span>:<br>        <span class="hljs-keyword">break</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>Code Snippet</strong></p>
<ol>
<li>
<p>Ctrl + L 剪切一整行</p>
</li>
<li>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074715550-e282f1f0-fc25-4729-9d7b-9a9772270934.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
</ol>
<h3 id="try-语句">try 语句</h3>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074740882-67d4ef6b-0ae7-4c45-ba98-893e7894eb37.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>可以通过 MSDN 查方法相应的异常。<br>
如 Int32.Parse 方法 (String) 就有以下异常。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074761770-1220bca6-cc26-45c3-9ebd-628761c66f7e.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<ul>
<li>
<p>应该把释放系统资源的语句写在 finally block 里面</p>
</li>
<li>
<p>有时候也在 finally block 里面写 log</p>
</li>
</ul>
<p>throw 将异常抛给调用者。<br>
throw 关键字的语法比较灵活。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">try</span><br>&#123;<br>    ...<br>&#125;<br><span class="hljs-keyword">catch</span>(OverflowException)<br>&#123;<br>    <span class="hljs-keyword">throw</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="迭代（循环）语句">迭代（循环）语句</h3>
<ul>
<li>
<p>while 语句按不同条件执行一个嵌入语句零次或多次</p>
</li>
<li>
<p>do 语句按不同条件执行一个嵌入语句一次或多次</p>
</li>
<li>
<p>for 语句计算一个初始化表达式序列，然后，当某个条件为真时，重复执行相关的嵌入语句并计算一个迭代表达式序列</p>
</li>
<li>
<p>foreach 语句用于枚举一个集合的元素，并对该集合中的每个元素执行一次相关的嵌入语句</p>
</li>
</ul>
<p>for 循环圆括号里面的的三部分都是 opt 可选的（两个分号不能省略），由此可以组成许多平时用不到的奇葩结构。</p>
<h4 id="遍历和迭代器">遍历和迭代器</h4>
<p>Array 实现了 IEnumerable</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074801508-044519fd-820e-4a8f-9046-465136b79a44.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074806841-1caa32b0-13e2-461b-9b23-37813054caef.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542074812857-6546cbdd-72b9-4f40-b688-631fa3d44657.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>集合遍历的底层原理和迭代器，foreach 语句就是对集合遍历的简记法。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>&#123;<br>    <span class="hljs-keyword">var</span> intArray = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[] &#123; <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span> ,<span class="hljs-number">7</span>&#125;;<br><br>    IEnumerator enumerator = intArray.GetEnumerator();<br><br>    <span class="hljs-keyword">while</span> (enumerator.MoveNext())<br>    &#123;<br>        Console.WriteLine(enumerator.Current);<br>    &#125;<br><br><br>    <span class="hljs-keyword">var</span> intList = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">int</span>&gt;() &#123; <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span> &#125;;<br><br>    IEnumerator enumerator2 = intList.GetEnumerator();<br><br>    <span class="hljs-keyword">while</span> (enumerator2.MoveNext())<br>    &#123;<br>        Console.WriteLine(enumerator2.Current);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="跳转语句">跳转语句</h3>
<ul>
<li>
<p>continue 语句将开始直接封闭它的 while、do、for 或 foreach 语句的一次新迭代</p>
</li>
<li>
<p>break 语句将退出直接封闭它的 switch、while、do、for 或 foreach 语句</p>
</li>
<li>
<p>goto 语句将控制转到由标签标记的语句</p>
</li>
<li>
<ul>
<li>goto 语句基本被淘汰</li>
</ul>
</li>
<li>
<p>throw 语句将引发一个异常</p>
</li>
<li>
<ul>
<li>throw 语句语法比较灵活，它后面可以什么都不跟</li>
</ul>
</li>
<li>
<p>return 语句会将控制返回到出现 return 语句的函数的当前调用方</p>
</li>
<li>
<ul>
<li>提前 return 原则</li>
</ul>
</li>
<li>
<ul>
<li>方法的每个分支里面都需要有 return</li>
</ul>
</li>
</ul>
<h4 id="turn-原则">turn 原则</h4>
<p>通过提前 return 可以让代码阅读者立刻就鉴别出来程序将在什么情况下 return，同时减少 if else 嵌套，写出更优雅的代码。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        Greeting(<span class="hljs-string">&quot;Mr.Duan&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Greeting</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">string</span>.IsNullOrEmpty(name))<br>        &#123;<br>            <span class="hljs-comment">// 通过尽早 return 可以让代码阅读者立刻就鉴别出来</span><br>            <span class="hljs-comment">// name 参数在什么情况下是有问题的</span><br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br><br>        Console.WriteLine(<span class="hljs-string">&quot;Hello, &#123;0&#125;&quot;</span>, name);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="参考-v2">参考</h2>
<p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/dotnet/csharp/tour-of-csharp/statements">Docs Statements</a></p>
<h1>017 字段、属性、索引器、常量</h1>
<p>这四种成员都是用来表示数据的，所以放在一起讲。</p>
<table>
<thead>
<tr>
<th><strong>成员</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>常量</td>
<td>与类关联的常量值</td>
</tr>
<tr>
<td>字段</td>
<td>类的变量</td>
</tr>
<tr>
<td>方法</td>
<td>类可执行的计算和操作</td>
</tr>
<tr>
<td>属性</td>
<td>与读写类的命名属性相关联的操作</td>
</tr>
<tr>
<td>索引器</td>
<td>与以数组方式索引类的实例相关联的操作</td>
</tr>
<tr>
<td>事件</td>
<td>可由类生成的通知</td>
</tr>
<tr>
<td>运算符</td>
<td>类所支持的转换和表达式运算符</td>
</tr>
<tr>
<td>构造函数</td>
<td>初始化类的实例或类本身所需的操作</td>
</tr>
<tr>
<td>析构函数</td>
<td>在永久丢弃类的实例之前执行的操作</td>
</tr>
<tr>
<td>类型</td>
<td>类所声明的嵌套类型</td>
</tr>
</tbody>
</table>
<h2 id="字段">字段</h2>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076088624-dc61e2e2-d241-4a72-97bb-56d5e327fc9b-167317064199614.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<ol>
<li>
<p>字段历史悠久，C 语言就有了</p>
</li>
<li>
<p>ID、Name 各占一块空间，这也是字段称为 field 的由来</p>
</li>
</ol>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076110330-faf66f77-a654-4257-8031-19b362c7e625-167317064199715.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h3 id="什么是字段">什么是字段</h3>
<p>示例：实例字段与静态字段</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> stuList = <span class="hljs-keyword">new</span> List&lt;Student&gt;();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)<br>        &#123;<br>            <span class="hljs-keyword">var</span> stu = <span class="hljs-keyword">new</span> Student<br>            &#123;<br>                Age = <span class="hljs-number">24</span>,<br>                Score = i,<br>            &#125;;<br><br>            stuList.Add(stu);<br>        &#125;<br><br>        <span class="hljs-built_in">int</span> totalAge=<span class="hljs-number">0</span>;<br>        <span class="hljs-built_in">int</span> totalScore=<span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> stu <span class="hljs-keyword">in</span> stuList)<br>        &#123;<br>            totalAge += stu.Age;<br>            totalScore += stu.Score;<br>        &#125;<br><br>        Student.AverageAge = totalAge / Student.Amout;<br>        Student.AverageScore = totalScore / Student.Amout;<br><br>        Student.ReportAmount();<br>        Student.ReportAverageAge();<br>        Student.ReportScore();<br>    &#125;<br><br>    <span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><br>    &#123;<br>        <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Age;<br>        <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Score;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">int</span> AverageAge;<br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">int</span> AverageScore;<br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">int</span> Amout;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Student</span>()</span><br>        &#123;<br>            Amout++;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ReportAmount</span>()</span><br>        &#123;<br>            Console.WriteLine(Amout);<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ReportAverageAge</span>()</span><br>        &#123;<br>            Console.WriteLine(AverageAge);<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ReportScore</span>()</span><br>        &#123;<br>            Console.WriteLine(AverageScore);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="字段的声明">字段的声明</h3>
<p>字段（field）是一种表示与对象或类关联的变量的成员。</p>
<ul>
<li>
<p>对于实例字段，它初始化的时机是在实例创建时</p>
</li>
<li>
<ul>
<li>声明实例字段时初始化值与在实例构造器里面初识化实例字段是一样的</li>
</ul>
</li>
<li>
<p>对于静态字段，它初始化的时机是在运行环境加载该数据类型时</p>
</li>
<li>
<ul>
<li>即静态构造器初始化时</li>
</ul>
</li>
<li>
<ul>
<li>声明静态字段时设置初始化值与在静态构造器里面初始化静态字段其实是一样的</li>
</ul>
</li>
</ul>
<p>数据类型被运行环境加载时，它的静态构造器将会被调用，且只被调用一次。</p>
<p>静态构造器：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">int</span> Amout=<span class="hljs-number">100</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-title">Student</span>()</span><br>&#123;<br>    Amout = <span class="hljs-number">200</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="只读字段-readonly">只读字段 readonly</h3>
<p>只读字段为实例或类型保存一旦初始化后就不希望再改变的值。</p>
<p><strong>Code Shippet</strong><br>
ctor + 2 * TAB：插入构造函数代码片段。</p>
<h2 id="属性">属性</h2>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076210282-724e6896-32f5-4fd0-ba17-0bcfbabbe3ec-167317064199816.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><strong>建议：永远使用属性（而不是字段）来暴露数据，即字段永远是 private 或 protected 的。</strong><br>
字段只在类内部使用，类之间交换数据，永远只用属性。</p>
<h3 id="什么是属性">什么是属性</h3>
<p>使用 Get/Set 方法对之前：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> stu1 = <span class="hljs-keyword">new</span> Student()<br>        &#123;<br>            Age = <span class="hljs-number">20</span><br>        &#125;;<br><br>        <span class="hljs-keyword">var</span> stu2 = <span class="hljs-keyword">new</span> Student()<br>        &#123;<br>            Age = <span class="hljs-number">20</span><br>        &#125;;<br><br>        <span class="hljs-keyword">var</span> stu3 = <span class="hljs-keyword">new</span> Student()<br>        &#123;<br>            <span class="hljs-comment">// 非法值，污染字段</span><br>            Age = <span class="hljs-number">200</span><br>        &#125;;<br><br>        <span class="hljs-keyword">var</span> avgAge = (stu1.Age + stu2.Age + stu3.Age) / <span class="hljs-number">3</span>;<br>        Console.WriteLine(avgAge);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Age;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>使用 Get/Set 后：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">try</span><br>        &#123;<br>            <span class="hljs-keyword">var</span> stu1 = <span class="hljs-keyword">new</span> Student();<br>            stu1.SetAge(<span class="hljs-number">20</span>);<br><br>            <span class="hljs-keyword">var</span> stu2 = <span class="hljs-keyword">new</span> Student();<br>            stu2.SetAge(<span class="hljs-number">20</span>);<br><br>            <span class="hljs-keyword">var</span> stu3 = <span class="hljs-keyword">new</span> Student();<br>            stu3.SetAge(<span class="hljs-number">200</span>);<br><br>            <span class="hljs-keyword">var</span> avgAge = (stu1.GetAge() + stu2.GetAge() + stu3.GetAge()) / <span class="hljs-number">3</span>;<br><br>            Console.WriteLine(avgAge);<br>        &#125;<br>        <span class="hljs-keyword">catch</span> (Exception ex)<br>        &#123;<br>            Console.WriteLine(ex.Message);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><br>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> age;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">GetAge</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetAge</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> <span class="hljs-keyword">value</span></span>)</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">value</span> &gt;= <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-keyword">value</span> &lt;= <span class="hljs-number">120</span>)<br>        &#123;<br>            age = <span class="hljs-keyword">value</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">&quot;Age value has error.&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>使用 Get/Set 来保护字段的方法至今仍在 C++、JAVA 里面流行（即 C++、JAVA 里面是没有属性的）。<br>
因为 Get/Set 写起来冗长，微软应广大程序员请求，给 C# 引入了属性。</p>
<p>引入属性后：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">try</span><br>        &#123;<br>            <span class="hljs-keyword">var</span> stu1 = <span class="hljs-keyword">new</span> Student();<br>            stu1.Age=<span class="hljs-number">20</span>;<br><br>            <span class="hljs-keyword">var</span> stu2 = <span class="hljs-keyword">new</span> Student();<br>            stu2.Age = <span class="hljs-number">20</span>;<br><br>            <span class="hljs-keyword">var</span> stu3 = <span class="hljs-keyword">new</span> Student();<br>            stu3.Age = <span class="hljs-number">200</span>;<br><br>            <span class="hljs-keyword">var</span> avgAge = (stu1.Age + stu2.Age + stu3.Age) / <span class="hljs-number">3</span>;<br><br>            Console.WriteLine(avgAge);<br>        &#125;<br>        <span class="hljs-keyword">catch</span> (Exception ex)<br>        &#123;<br>            Console.WriteLine(ex.Message);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><br>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Age<br>    &#123;<br>        <span class="hljs-keyword">get</span><br>        &#123;<br>            <span class="hljs-keyword">return</span> age;<br>        &#125;<br><br>        <span class="hljs-keyword">set</span><br>        &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">value</span> &gt;= <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-keyword">value</span> &lt;= <span class="hljs-number">120</span>)<br>            &#123;<br>                age = <span class="hljs-keyword">value</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">&quot;Age value has error.&quot;</span>);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>引入属性后代码简洁明了许多。</p>
<p>语法糖背后的秘密：<br>
参照 <a target="_blank" rel="noopener" href="https://www.yuque.com/yuejiangliu/dotnet/timothy-csharp-013-016#bad91752">https://www.yuque.com/yuejiangliu/dotnet/timothy-csharp-013-016#bad91752</a> 用 ildasm 反编译工具，反编译上面的示例。<br>
发现编译器使用语法糖，把背后比较复杂的机制掩蔽了起来，即属性也是一种语法糖。</p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076363452-b2e701a5-8a9e-4806-ae8c-f14b7d777a70-167317064199817.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076370267-3a566ba7-db17-4790-8b1e-96e18d931d82-167317064199818.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h3 id="属性的声明">属性的声明</h3>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076384769-34b76bf5-1da3-4c06-84d5-1c0b7d60732c-167317064200524.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<p><strong>Code Snippet</strong></p>
<ol>
<li>
<p>prop + 2 * TAB：属性的简略声明</p>
</li>
<li>
<p>propfull + 2 * TAB：属性的完整声明</p>
</li>
<li>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076410568-1447a7ab-ced9-40a5-a193-5e94bc6ed59f-167317064200528.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
</ol>
<h4 id="动态计算值的属性">动态计算值的属性</h4>
<p>主动计算，每次获取 CanWork 时都计算，适用于 CanWork 属性使用频率低的情况。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">try</span><br>        &#123;<br>            <span class="hljs-keyword">var</span> stu1 = <span class="hljs-keyword">new</span> Student();<br>            stu1.Age = <span class="hljs-number">12</span>;<br><br>            Console.WriteLine(stu1.CanWork);<br>        &#125;<br>        <span class="hljs-keyword">catch</span> (Exception ex)<br>        &#123;<br>            Console.WriteLine(ex.Message);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><br>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Age<br>    &#123;<br>        <span class="hljs-keyword">get</span> &#123; <span class="hljs-keyword">return</span> age; &#125;<br>        <span class="hljs-keyword">set</span><br>        &#123;<br>            age = <span class="hljs-keyword">value</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> CanWork<br>    &#123;<br>        <span class="hljs-keyword">get</span><br>        &#123;<br>            <span class="hljs-keyword">return</span> age &gt; <span class="hljs-number">16</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>被动计算，只在 Age 赋值时计算一次，适用于 Age 属性使用频率低，CanWork 使用频率高的情况。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">try</span><br>        &#123;<br>            <span class="hljs-keyword">var</span> stu1 = <span class="hljs-keyword">new</span> Student();<br>            stu1.Age = <span class="hljs-number">12</span>;<br><br>            Console.WriteLine(stu1.CanWork);<br>        &#125;<br>        <span class="hljs-keyword">catch</span> (Exception ex)<br>        &#123;<br>            Console.WriteLine(ex.Message);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><br>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Age<br>    &#123;<br>        <span class="hljs-keyword">get</span> &#123; <span class="hljs-keyword">return</span> age; &#125;<br>        <span class="hljs-keyword">set</span><br>        &#123;<br>            age = <span class="hljs-keyword">value</span>;<br>            CalculateCanWork();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">bool</span> canWork;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> CanWork<br>    &#123;<br>        <span class="hljs-keyword">get</span> &#123; <span class="hljs-keyword">return</span> canWork; &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CalculateCanWork</span>()</span><br>    &#123;<br>        canWork = age &gt; <span class="hljs-number">16</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="索引器">索引器</h2>
<ul>
<li>
<p>什么是索引器</p>
</li>
<li>
<ul>
<li>索引器（indexer）是这样一种成员：它使对象能够用与数组相同的方式（即使用下标）进行索引</li>
</ul>
</li>
<li>
<p>索引器的声明</p>
</li>
<li>
<ul>
<li>参加 C#语言定义文档</li>
<li>注意：没有静态索引器</li>
</ul>
</li>
</ul>
<p><strong>Code Snippet</strong><br>
index + 2 * TAB：快速声明索引器</p>
<p>索引器一般都是用在集合上面，像如下示例这样用是很少见的（只是为了讲解方便）。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> stu = <span class="hljs-keyword">new</span> Student();<br>        stu[<span class="hljs-string">&quot;Math&quot;</span>] = <span class="hljs-number">90</span>;<br>        stu[<span class="hljs-string">&quot;Math&quot;</span>] = <span class="hljs-number">100</span>;<br>        <span class="hljs-keyword">var</span> mathScore = stu[<span class="hljs-string">&quot;Math&quot;</span>];<br><br>        Console.WriteLine(mathScore);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><br>&#123;<br>    <span class="hljs-keyword">private</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt; scoreDictionary = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt;();<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span>? <span class="hljs-keyword">this</span>[<span class="hljs-built_in">string</span> subject]<br>    &#123;<br>        <span class="hljs-keyword">get</span><br>        &#123;<br>            <span class="hljs-keyword">if</span> (scoreDictionary.ContainsKey(subject))<br>            &#123;<br>                <span class="hljs-keyword">return</span> scoreDictionary[subject];<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">set</span><br>        &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">value</span>.HasValue == <span class="hljs-literal">false</span>)<br>            &#123;<br>                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">&quot;Score cannot be null&quot;</span>);<br>            &#125;<br><br>            <span class="hljs-keyword">if</span> (scoreDictionary.ContainsKey(subject))<br>            &#123;<br>                <span class="hljs-comment">//  可空类型的 Value 属性才是其真实值。</span><br>                scoreDictionary[subject] = <span class="hljs-keyword">value</span>.Value;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                scoreDictionary.Add(subject, <span class="hljs-keyword">value</span>.Value);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="常量">常量</h2>
<ul>
<li>
<p>什么是常量</p>
</li>
<li>
<ul>
<li>常量（constant）是表示常量值（即，可以在编译时计算的值）的类成员</li>
<li>常量隶属于类型而不是对象，即没有“实例常量”</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>“实例常量”的角色由只读实例字段来担当</li>
</ul>
</li>
</ul>
</li>
<li>
<ul>
<li>注意区分成员常量与局部常量</li>
</ul>
</li>
<li>
<p>常量的声明</p>
</li>
<li>
<p>各种“只读”的应用场景</p>
</li>
<li>
<ul>
<li>为了提高程序可读性和执行效率 —— 常量</li>
<li>为了防止对象的值被改变 —— 只读字段</li>
<li>向外暴露不允许修改的数据 —— 只读属性（静态或非静态），功能与常量有一些重叠</li>
<li>当希望成为常量的值其类型不能被常量声明接受时（类/自定义结构体） —— 静态只读字段</li>
</ul>
</li>
</ul>
<p><img src="../../themes/fluid/source/img/c#%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/1542076557984-9597ce9e-a158-40a6-9068-5433fcdccf5e-167317064200526.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h3 id="各种“只读”的应用场景">各种“只读”的应用场景</h3>
<ul>
<li>
<p>常量：隶属于类型，没有所谓的实例常量</p>
</li>
<li>
<p>只读字段：只有一次初始化机会，就是在声明它时初始化（等价于在构造函数中初始化）</p>
</li>
<li>
<p>只读属性：对于类使用静态只读属性，对于实例使用实例只读属性</p>
</li>
<li>
<ul>
<li>要分清没有 Set，与 private Set 的区别</li>
</ul>
</li>
<li>
<ul>
<li>常量比静态只读属性性能高，因为编译时，编译器将用常量的值代替常量标识符</li>
</ul>
</li>
<li>
<p>静态只读字段：字段没有类型局限，但常量只能是简单类型，不能是类/自定义结构体类型</p>
</li>
</ul>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/csharp/">csharp</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'k1tcheung/commit-utterance');
      s.setAttribute('issue-term', 'pathname');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>

              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->

    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            承蒙 
            <span id="busuanzi_value_site_uv"></span>
             位朋友
          </span>
      
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            造访 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
    
  </div>


  
    <div class="datatime">
        <!-- 网站运行时间的设置 -->
        <span id="timeDate">载入天数...</span>
        <span id="times">载入时分秒...</span>
        <script>
            var now = new Date();
            function createtime() { 
                var grt= new Date("08/30/2021 00:00:00");//此处修改你的建站时间或者网站上线时间 
                now.setTime(now.getTime()+250); 
                days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
                hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
                if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
                mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
                seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
                snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
                document.getElementById("timeDate").innerHTML = "本站已小心翼翼地运行 "+dnum+" 天 "; 
                document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒了~"; 
            } 
        setInterval("createtime()",250);
  </script>
    </div>

  

  
</footer>

  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>



  <script  src="/js/local-search.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>












  

  

  

  

  

  




  
<script src="/js/diy/click_show_text.js"></script>



<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


  <!--单击显示文字-->
  <script type="text/javascript" src="/js/diy/click_show_text.js"></script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":true,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/assets/tororo.model.json"},"display":{"superSample":2,"width":200,"height":400,"position":"left","hOffset":30,"vOffset":-50},"mobile":{"show":false,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false});</script></body>
</html>